(this.webpackJsonpmovieratings=this.webpackJsonpmovieratings||[]).push([[5],{43:function(e,t,a){"use strict";a.r(t);var i=a(0),s=a(6),r=a(4),c=a(22),n=a(23),o=a(24),m=a(8),l=a(9),d=a(1),h=Object(i.memo)((function(e){var t,a=e.movie,i=e.type;return"Diary"===i&&a.WatchedDateFormatted?t="watched in ".concat(a.WatchedDateFormatted):"Ratings"===i&&a.DateFormatted&&(t="rated in ".concat(a.DateFormatted)),Object(d.jsxs)(l.b,{className:"btn btn-secondary d-block",to:"/movie/".concat(a.Id),children:[Object(d.jsxs)("div",{className:"text-start text-truncate",children:[a.Name,Object(d.jsxs)("span",{className:"ms-1 small",children:["(",a.Year,")"]})]}),Object(d.jsxs)("div",{className:"align-items-end row small",children:[Object(d.jsx)("div",{className:"col text-start text-warning",children:Array.from(Array(a.Rating)).map((function(e,t){return Object(d.jsx)(m.a,{className:"me-1",icon:"star"},t)}))}),Object(d.jsx)("div",{className:"col small text-end",children:t})]})]})})),v={dispatcher:null,dispatcherName:"",moviesFiltered:[],moviesPaginated:[],moviesStatus:null};function j(e,t){if("setAll"===t.type)return Object(r.a)(Object(r.a)({},e),t.payload);throw new Error}var b=Object(i.memo)((function(e){var t=e.type,a=Object(i.useReducer)(j,v),r=Object(s.a)(a,2),m=r[0],l=r[1],b=Object(c.b)(),u=b.dispatcher,p=b.movieDiaryFiltered,g=b.movieDiaryPage,O=b.movieDiaryPaginated,y=b.movieDiarySearchString,x=b.movieDiaryStatus,N=Object(n.b)(),S=N.dispatcher,f=N.movieRatingsFiltered,D=N.movieRatingsPage,F=N.movieRatingsPaginated,R=N.movieRatingsSearchString,w=N.movieRatingsStatus;return Object(i.useEffect)((function(){var e;"Diary"===t?e={dispatcher:u,dispatcherName:"setMovieDiaryPage",moviesFiltered:p,moviesPaginated:O,moviesStatus:x}:"Ratings"===t&&(e={dispatcher:S,dispatcherName:"setMovieRatingsPage",moviesFiltered:f,moviesPaginated:F,moviesStatus:w}),l({type:"setAll",payload:e})}),[u,S,p,g,O,y,x,f,D,F,R,w,t]),Object(d.jsx)(o.a,{dataStatus:m.moviesStatus,hasData:!!m.moviesFiltered.length,messageNoData:"noMovies",children:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("ul",{className:"list-unstyled",children:m.moviesPaginated.map((function(e){return Object(d.jsx)("li",{className:"mb-3",children:Object(d.jsx)(h,{movie:e,type:t})},e.Id)}))}),m.moviesPaginated.length<m.moviesFiltered.length&&Object(d.jsx)("div",{className:"mb-3 text-center",children:Object(d.jsx)("button",{className:"btn btn-danger",type:"button",onClick:function(){return m.dispatcher[m.dispatcherName]()},children:"Show more"})})]})})})),u={dispatcher:null,dispatcherName:"",movieSearchString:"",moviesFiltered:[]};function p(e,t){if("setAll"===t.type)return Object(r.a)(Object(r.a)({},e),t.payload);throw new Error}var g=function(e){var t=e.type,a=Object(i.useReducer)(p,u),r=Object(s.a)(a,2),o=r[0],l=r[1],h=Object(c.b)(),v=h.dispatcher,j=h.movieDiaryFiltered,b=h.movieDiarySearchString,g=h.movieDiaryStatus,O=Object(n.b)(),y=O.dispatcher,x=O.movieRatingsFiltered,N=O.movieRatingsSearchString,S=O.movieRatingsStatus;return Object(i.useEffect)((function(){var e;"Diary"===t?e={dispatcher:v,dispatcherName:"setMovieDiarySearchString",movieSearchString:b,moviesFiltered:j}:"Ratings"===t&&(e={dispatcher:y,dispatcherName:"setMovieRatingsSearchString",movieSearchString:N,moviesFiltered:x}),l({type:"setAll",payload:e})}),[v,y,j,b,g,x,N,S,t]),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsxs)("div",{className:"input-group mb-1",children:[Object(d.jsx)("input",{id:"search-movie",className:"form-control",placeholder:"Search...",type:"text",value:o.movieSearchString,onChange:function(e){return o.dispatcher[o.dispatcherName](e.target.value)}}),Object(d.jsx)("button",{className:"btn btn-secondary",type:"button",onClick:function(){return o.dispatcher[o.dispatcherName]("")},children:Object(d.jsx)(m.a,{icon:"times"})})]}),Object(d.jsxs)("p",{className:"small text-end",children:[o.moviesFiltered.length," movies"]})]})};t.default=function(e){var t=e.type;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{className:"h4",children:t}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-12 col-sm-4",children:Object(d.jsx)(g,{type:t})}),Object(d.jsx)("div",{className:"col-12 col-sm-8",children:Object(d.jsx)(b,{type:t})})]})]})}}}]);
//# sourceMappingURL=5.fa33e2d8.chunk.js.map