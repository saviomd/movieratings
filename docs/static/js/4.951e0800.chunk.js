(this.webpackJsonpmovieratings=this.webpackJsonpmovieratings||[]).push([[4],{53:function(e,t,i){"use strict";i.r(t);var a=i(0),s=i(14),c=i(3),n=i(27),r=i(28),o=i(30),l=i(10),d=i(11),m=i(1),v=Object(a.memo)((function(e){var t,i=e.movie,a=e.type;return"Diary"===a&&i.WatchedDateFormatted?t="watched in ".concat(i.WatchedDateFormatted):"Ratings"===a&&i.DateFormatted&&(t="rated in ".concat(i.DateFormatted)),Object(m.jsxs)(d.b,{className:"btn btn-secondary d-block",to:"/movie/".concat(i.Id),children:[Object(m.jsxs)("div",{className:"text-start text-truncate",children:[i.Name,Object(m.jsxs)("span",{className:"ms-1 small",children:["(",i.Year,")"]})]}),Object(m.jsxs)("div",{className:"align-items-end row small",children:[Object(m.jsx)("div",{className:"col text-start text-warning",children:Array.from(Array(i.Rating)).map((function(e,t){return Object(m.jsx)(l.a,{className:"me-1",icon:"star"},t)}))}),Object(m.jsx)("div",{className:"col small text-end",children:t})]})]})})),h={dispatchMovie:null,dispatchMovieType:"",moviesFiltered:[],moviesPaginated:[],moviesStatus:null};function j(e,t){switch(t.type){case"setAll":return Object(c.a)(Object(c.a)({},e),t.payload);default:throw new Error}}var p=Object(a.memo)((function(e){var t=e.type,i=Object(a.useReducer)(j,h),c=Object(s.a)(i,2),l=c[0],d=c[1],p=Object(a.useContext)(n.b),b=p.dispatchMovieDiary,u=p.movieDiaryFiltered,g=p.movieDiaryPage,y=p.movieDiaryPaginated,O=p.movieDiarySearchString,x=p.movieDiaryStatus,S=Object(a.useContext)(r.b),M=S.dispatchMovieRatings,f=S.movieRatingsFiltered,N=S.movieRatingsPage,D=S.movieRatingsPaginated,F=S.movieRatingsSearchString,R=S.movieRatingsStatus;return Object(a.useEffect)((function(){var e;"Diary"===t?e={dispatchMovie:b,dispatchMovieType:"setMovieDiaryPage",moviesFiltered:u,moviesPaginated:y,moviesStatus:x}:"Ratings"===t&&(e={dispatchMovie:M,dispatchMovieType:"setMovieRatingsPage",moviesFiltered:f,moviesPaginated:D,moviesStatus:R}),d({type:"setAll",payload:e})}),[b,M,u,g,y,O,x,f,N,D,F,R,t]),Object(m.jsx)(o.a,{dataStatus:l.moviesStatus,hasData:!!l.moviesFiltered.length,messageNoData:"noMovies",children:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("ul",{className:"list-unstyled",children:l.moviesPaginated.map((function(e){return Object(m.jsx)("li",{className:"mb-3",children:Object(m.jsx)(v,{movie:e,type:t})},e.Id)}))}),l.moviesPaginated.length<l.moviesFiltered.length&&Object(m.jsx)("div",{className:"mb-3 text-center",children:Object(m.jsx)("button",{className:"btn btn-danger",type:"button",onClick:function(){return l.dispatchMovie({type:l.dispatchMovieType})},children:"Show more"})})]})})})),b={dispatchMovie:null,dispatchMovieType:"",movieSearchString:"",moviesFiltered:[]};function u(e,t){switch(t.type){case"setAll":return Object(c.a)(Object(c.a)({},e),t.payload);default:throw new Error}}var g=function(e){var t=e.type,i=Object(a.useReducer)(u,b),c=Object(s.a)(i,2),o=c[0],d=c[1],v=Object(a.useContext)(n.b),h=v.dispatchMovieDiary,j=v.movieDiaryFiltered,p=v.movieDiarySearchString,g=v.movieDiaryStatus,y=Object(a.useContext)(r.b),O=y.dispatchMovieRatings,x=y.movieRatingsFiltered,S=y.movieRatingsSearchString,M=y.movieRatingsStatus;return Object(a.useEffect)((function(){var e;"Diary"===t?e={dispatchMovie:h,dispatchMovieType:"setMovieDiarySearchString",movieSearchString:p,moviesFiltered:j}:"Ratings"===t&&(e={dispatchMovie:O,dispatchMovieType:"setMovieRatingsSearchString",movieSearchString:S,moviesFiltered:x}),d({type:"setAll",payload:e})}),[h,O,j,p,g,x,S,M,t]),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsxs)("div",{className:"input-group mb-1",children:[Object(m.jsx)("input",{id:"search-movie",className:"form-control",placeholder:"Search...",type:"text",value:o.movieSearchString,onChange:function(e){return o.dispatchMovie({type:o.dispatchMovieType,payload:e.target.value})}}),Object(m.jsx)("button",{className:"btn btn-secondary",type:"button",onClick:function(){return o.dispatchMovie({type:o.dispatchMovieType,payload:""})},children:Object(m.jsx)(l.a,{icon:"times"})})]}),Object(m.jsxs)("p",{className:"small text-end",children:[o.moviesFiltered.length," movies"]})]})};t.default=function(e){var t=e.type;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"h4",children:t}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-12 col-sm-4",children:Object(m.jsx)(g,{type:t})}),Object(m.jsx)("div",{className:"col-12 col-sm-8",children:Object(m.jsx)(p,{type:t})})]})]})}}}]);
//# sourceMappingURL=4.951e0800.chunk.js.map