(this.webpackJsonpmovieratings=this.webpackJsonpmovieratings||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){"use strict";a(0);var n=a(1),r=function(e){var t=e.children,a=e.href,r=e.margin,i=e.target,c={both:"m-1",left:"ms-1",none:"",right:"me-1"}[r];return Object(n.jsx)("a",{className:"".concat(c," text-danger text-decoration-none"),href:a,target:i,rel:"_blank"===i?"noopener noreferrer":null,children:t})};r.defaultProps={margin:null,target:null};var i=r;t.a=i},function(e,t,a){"use strict";t.a=function(e,t){return e.filter((function(e){return e.Name.toLowerCase().includes(t.toLowerCase())}))}},function(e,t,a){"use strict";var n=a(4),r=a(18);t.a=function(e){return e.reverse(),e.map((function(e,t){return Object(n.a)(Object(n.a)({},e),{},{Id:e.LetterboxdURI.length?e.LetterboxdURI.split("boxd.it/")[1]:t.toString(),Name:e.Name.toString(),DateFormatted:Object(r.a)({date:e.Date})},e.WatchedDate&&{WatchedDateFormatted:Object(r.a)({date:e.WatchedDate})})}))}},function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){return fetch("/movieratings/data/diary.json").then((function(e){if(!e.ok)throw Error(e.status);return e.json()}))},r=function(){return fetch("/movieratings/data/ratings.json").then((function(e){if(!e.ok)throw Error(e.status);return e.json()}))}},,,function(e,t,a){"use strict";t.a=function(e){var t=e.date;return new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}},,function(e,t,a){"use strict";var n=a(8),r=a(0),i=a(1),c=Object(r.memo)((function(e){var t=e.type,a={error:{icon:"sad-tear",text:"An error has ocurred"},loading:{icon:"hourglass-half",text:"Loading..."},noData:{icon:"frown",text:"No data to show"},noMovies:{icon:"frown",text:"No movies to show"},noStats:{icon:"frown",text:"No stats to show"},pageNotFound:{icon:"dizzy",text:"Page not found"}},r="animate__".concat("loading"===t?"heartBeat":"headShake");return Object(i.jsxs)("div",{className:"lead p-3 text-center",children:[Object(i.jsx)("div",{className:"animate__animated ".concat(r," h3 mb-3"),children:Object(i.jsx)("span",{className:"bg-secondary p-2 rounded",children:Object(i.jsx)(n.a,{icon:a[t].icon})})}),a[t].text]})}));t.a=c},function(e,t,a){"use strict";var n=function(e){var t=e.path,a=e.type;return t?"https://image.tmdb.org/t/p/".concat({backdrop:"w1280",poster:"w780"}[a]+t):null},r={img:{attribution:function(){return"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg"},backdrop:function(e){var t=e.path;return n({path:t,type:"backdrop"})},poster:function(e){var t=e.path;return n({path:t,type:"poster"})}},key:"6f875d4fba2e999f480afa6275a08f75",methods:{movieDetails:function(e){var t=e.movieId;return"movie/".concat(t)},searchMovies:function(){return"search/movie"}},url:"https://api.themoviedb.org/3/"};t.a=r},function(e,t,a){"use strict";a.d(t,"a",(function(){return v})),a.d(t,"b",(function(){return m}));var n=a(4),r=a(0),i=a(13),c=a(14),o=a(15),s=a(6),u={movieDiary:[],movieDiaryPage:1,movieDiarySearchString:"",movieDiaryStatus:""};function d(e,t){switch(t.type){case"setMovieDiary":return Object(n.a)(Object(n.a)({},e),{},{movieDiary:t.payload,movieDiaryStatus:"loaded"});case"setMovieDiaryPage":return Object(n.a)(Object(n.a)({},e),{},{movieDiaryPage:e.movieDiaryPage+1});case"setMovieDiarySearchString":return Object(n.a)(Object(n.a)({},e),{},{movieDiarySearchString:t.payload.toLowerCase()});case"setMovieDiaryStatus":return Object(n.a)(Object(n.a)({},e),{},{movieDiaryStatus:t.payload});default:throw new Error}}var b=function(){var e=Object(r.useReducer)(d,u),t=Object(s.a)(e,2),a=t[0],n=t[1];return{dispatcher:Object(r.useMemo)((function(){return{setMovieDiary:function(e){return n({type:"setMovieDiary",payload:e})},setMovieDiaryPage:function(){return n({type:"setMovieDiaryPage"})},setMovieDiarySearchString:function(e){return n({type:"setMovieDiarySearchString",payload:e})},setMovieDiaryStatus:function(e){return n({type:"setMovieDiaryStatus",payload:e})}}}),[]),state:a}},l=a(1),j=Object(r.createContext)(),m=function(){return Object(r.useContext)(j)},v=function(e){var t=e.children,a=b(),s=a.dispatcher,u=a.state,d=Object(r.useMemo)((function(){return Object(i.a)(u.movieDiary,u.movieDiarySearchString)}),[u.movieDiary,u.movieDiarySearchString]),m=Object(r.useMemo)((function(){var e=100*u.movieDiaryPage;return d.slice(0,e)}),[d,u.movieDiaryPage]),v=Object(r.useMemo)((function(){var e=u.movieDiary.reduce((function(e,t){var a=t.WatchedDate.split("-")[0];return e[a]=e[a]?e[a]+=1:e[a]=1,e}),{}),t=0;return Object.values(e).forEach((function(e){t=e>t?e:t})),{groups:e,max:t}}),[u.movieDiary]),h=Object(r.useCallback)((function(){return s.setMovieDiaryStatus("loading"),Object(o.a)().then((function(e){var t=Object(c.a)(e);return s.setMovieDiary(t),t})).catch((function(){s.setMovieDiaryStatus("error")}))}),[s]);Object(r.useEffect)((function(){h()}),[h]);var g=Object(r.useMemo)((function(){return Object(n.a)(Object(n.a)({},u),{},{dispatcher:s,movieDiaryFiltered:d,movieDiaryPaginated:m,moviesPerYearWatched:v})}),[s,d,m,v,u]);return Object(l.jsx)(j.Provider,{value:g,children:t})}},function(e,t,a){"use strict";a.d(t,"a",(function(){return v})),a.d(t,"b",(function(){return m}));var n=a(4),r=a(0),i=a(13),c=a(14),o=a(15),s=a(6),u={movieRatings:[],movieRatingsPage:1,movieRatingsSearchString:"",movieRatingsStatus:""};function d(e,t){switch(t.type){case"setMovieRatings":return Object(n.a)(Object(n.a)({},e),{},{movieRatings:t.payload,movieRatingsStatus:"loaded"});case"setMovieRatingsPage":return Object(n.a)(Object(n.a)({},e),{},{movieRatingsPage:e.movieRatingsPage+1});case"setMovieRatingsSearchString":return Object(n.a)(Object(n.a)({},e),{},{movieRatingsSearchString:t.payload.toLowerCase()});case"setMovieRatingsStatus":return Object(n.a)(Object(n.a)({},e),{},{movieRatingsStatus:t.payload});default:throw new Error}}var b=function(){var e=Object(r.useReducer)(d,u),t=Object(s.a)(e,2),a=t[0],n=t[1];return{dispatcher:Object(r.useMemo)((function(){return{setMovieRatings:function(e){return n({type:"setMovieRatings",payload:e})},setMovieRatingsPage:function(){return n({type:"setMovieRatingsPage"})},setMovieRatingsSearchString:function(e){return n({type:"setMovieRatingsSearchString",payload:e})},setMovieRatingsStatus:function(e){return n({type:"setMovieRatingsStatus",payload:e})}}}),[]),state:a}},l=a(1),j=Object(r.createContext)(),m=function(){return Object(r.useContext)(j)},v=function(e){var t=e.children,a=b(),s=a.dispatcher,u=a.state,d=Object(r.useMemo)((function(){return Object(i.a)(u.movieRatings,u.movieRatingsSearchString)}),[u.movieRatings,u.movieRatingsSearchString]),m=Object(r.useMemo)((function(){var e=100*u.movieRatingsPage;return d.slice(0,e)}),[d,u.movieRatingsPage]),v=Object(r.useMemo)((function(){var e=u.movieRatings.reduce((function(e,t){var a="".concat(t.Year.toString().substr(0,3),"0");return e[a]=e[a]?e[a]+=1:e[a]=1,e}),{}),t=0;return Object.values(e).forEach((function(e){t=e>t?e:t})),{groups:e,max:t}}),[u.movieRatings]),h=Object(r.useMemo)((function(){var e=u.movieRatings.reduce((function(e,t){var a=t.Rating;return e[a]=e[a]?e[a]+=1:e[a]=1,e}),{}),t=0;return Object.values(e).forEach((function(e){t=e>t?e:t})),{groups:e,max:t}}),[u.movieRatings]),g=Object(r.useCallback)((function(){return s.setMovieRatingsStatus("loading"),Object(o.b)().then((function(e){var t=Object(c.a)(e);return s.setMovieRatings(t),t})).catch((function(){s.setMovieRatingsStatus("error")}))}),[s]);Object(r.useEffect)((function(){g()}),[g]);var f=Object(r.useMemo)((function(){return Object(n.a)(Object(n.a)({},u),{},{dispatcher:s,movieRatingsFiltered:d,movieRatingsPaginated:m,moviesPerDecadeReleased:v,moviesPerRatingGiven:h})}),[s,d,m,v,h,u]);return Object(l.jsx)(j.Provider,{value:f,children:t})}},function(e,t,a){"use strict";var n=a(3),r=a.n(n),i=a(0),c=a(20),o=a(1),s=["","error","loading","loaded"],u=Object(i.memo)((function(e){var t=e.children,a=e.dataStatus,n=e.hasData,r=e.messageNoData;return Object(o.jsxs)(o.Fragment,{children:["loaded"===a&&n&&Object(o.jsx)(o.Fragment,{children:t}),"loaded"===a&&!n&&Object(o.jsx)(c.a,{type:r}),("loading"===a||"error"===a)&&Object(o.jsx)(c.a,{type:a})]})}));u.propTypes={children:r.a.node,dataStatus:r.a.oneOf(s),hasData:r.a.bool,messageNoData:r.a.string},u.defaultProps={children:null,dataStatus:s[0],hasData:!0,messageNoData:"noData"};var d=u;t.a=d},,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(25),c=a.n(i),o=a(22),s=a(23),u=a(10),d=a(7),b=a(9),l=(a(34),a(35),a(1));u.b.add(d.a,d.b,d.c,d.d,d.e,d.f,d.g,d.h,d.i);var j=function(e){var t=e.children;return Object(l.jsx)(b.a,{children:Object(l.jsx)("div",{className:"bg-dark text-white",children:t})})},m=a(8),v=a(12),h=Object(n.memo)((function(){var e=(new Date).getFullYear();return Object(l.jsxs)("footer",{className:"border-secondary border-top mb-3 pt-3 small text-center",children:["\xa9 2017-",e,Object(l.jsxs)(v.a,{href:"http://saviomd.com/",margin:"left",target:"_blank",children:[Object(l.jsx)("img",{alt:"saviomd.com",className:"me-1",src:"https://saviomd.com/img/favicon.png",height:"15",width:"15"}),"S\xe1vio Mendes",Object(l.jsx)(m.a,{className:"ms-1 small",icon:"external-link-alt"})]})]})})),g=function(e){var t=e.link;return Object(l.jsxs)(b.c,{to:t.path,className:function(e){var t=e.isActive;return"btn btn-danger btn-sm".concat(t?" active":"")},children:[Object(l.jsx)(m.a,{icon:t.icon}),Object(l.jsx)("span",{className:"d-none d-sm-inline-block ms-1",children:t.name})]})},f=[{icon:"star",name:"Ratings",path:"/"},{icon:"calendar-alt",name:"Diary",path:"/diary"},{icon:"chart-bar",name:"Stats",path:"/stats"}],O=function(){return Object(l.jsx)("nav",{className:"btn-group",children:f.map((function(e){return Object(l.jsx)(g,{link:e},e.path)}))})},p=function(){return Object(l.jsx)("header",{className:"border-bottom border-secondary mb-3",children:Object(l.jsxs)("div",{className:"align-items-center my-2 row",children:[Object(l.jsx)("h1",{className:"col h5 mb-0",children:Object(l.jsx)(b.c,{to:"/",className:"text-decoration-none text-white",children:"Movie Ratings"})}),Object(l.jsx)("div",{className:"col-auto",children:Object(l.jsx)(O,{})})]})})},x=a(21),y=Object(n.memo)((function(){return Object(l.jsxs)("div",{className:"border-secondary border-top pt-3 small text-center",children:[Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("img",{alt:"Letterboxd",src:"https://a.ltrbxd.com/logos/letterboxd-logo-v-neg-rgb-1000px.png",height:"48"}),Object(l.jsx)("br",{}),"My Ratings and Diary data are exported from Letterboxd from time to time.",Object(l.jsx)("br",{}),"My",Object(l.jsxs)(v.a,{href:"https://letterboxd.com/saviomd",margin:"both",target:"_blank",children:["profile",Object(l.jsx)(m.a,{className:"ms-1 small",icon:"external-link-alt"})]}),"will have more up to date information."]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("img",{alt:"TMDb",src:x.a.img.attribution(),height:"48"}),Object(l.jsx)("br",{}),"This product uses the TMDb API but is not endorsed or certified by TMDb."]})]})})),D=a(2),S=a(24),M=Object(n.lazy)((function(){return a.e(3).then(a.bind(null,42))})),R=Object(n.lazy)((function(){return a.e(5).then(a.bind(null,43))})),w=Object(n.lazy)((function(){return a.e(6).then(a.bind(null,40))})),N=Object(n.lazy)((function(){return a.e(4).then(a.bind(null,44))})),P=function(){return Object(l.jsx)(n.Suspense,{fallback:Object(l.jsx)(S.a,{dataStatus:"loading"}),children:Object(l.jsxs)(D.c,{children:[Object(l.jsx)(D.a,{element:Object(l.jsx)(R,{type:"Ratings"}),path:"/"}),Object(l.jsx)(D.a,{element:Object(l.jsx)(R,{type:"Diary"}),path:"/diary"}),Object(l.jsx)(D.a,{element:Object(l.jsx)(M,{}),path:"/movie/:movieId"}),Object(l.jsx)(D.a,{element:Object(l.jsx)(N,{}),path:"/stats"}),Object(l.jsx)(D.a,{element:Object(l.jsx)(w,{})})]})})},k=function(){return Object(l.jsx)(j,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(s.a,{children:Object(l.jsx)("div",{className:"container-fluid",children:Object(l.jsx)("div",{className:"justify-content-center row",children:Object(l.jsxs)("div",{className:"col-12 col-md-10",children:[Object(l.jsx)(p,{}),Object(l.jsx)(P,{}),Object(l.jsx)(y,{}),Object(l.jsx)(h,{})]})})})})})})},C=function(e){e&&e instanceof Function&&a.e(7).then(a.bind(null,41)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};c.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(k,{})}),document.getElementById("root")),C()}],[[38,1,2]]]);
//# sourceMappingURL=main.4477821c.chunk.js.map