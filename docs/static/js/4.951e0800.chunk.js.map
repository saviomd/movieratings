{"version":3,"sources":["components/MovieButton/index.js","components/MovieButton/MovieButton.jsx","components/MovieList/MovieList.jsx","components/MovieList/index.js","components/MovieNameSearch/MovieNameSearch.jsx","components/MovieNameSearch/index.js","pages/PageMovies.jsx"],"names":["MovieButton","memo","dateText","movie","type","WatchedDateFormatted","DateFormatted","className","to","Id","Name","Year","Array","from","Rating","map","item","i","icon","initialState","dispatchMovie","dispatchMovieType","moviesFiltered","moviesPaginated","moviesStatus","reducer","state","action","payload","Error","MovieList","useReducer","dispatchMovieList","useContext","MovieDiaryContext","dispatchMovieDiary","movieDiaryFiltered","movieDiaryPage","movieDiaryPaginated","movieDiarySearchString","movieDiaryStatus","MovieRatingsContext","dispatchMovieRatings","movieRatingsFiltered","movieRatingsPage","movieRatingsPaginated","movieRatingsSearchString","movieRatingsStatus","useEffect","LoadingHandler","dataStatus","hasData","length","messageNoData","onClick","movieSearchString","MovieNameSearch","dispatchMovieNameSearch","id","placeholder","value","onChange","event","target","PageMovies"],"mappings":"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","file":"static/js/4.951e0800.chunk.js","sourcesContent":["import MovieButton from \"./MovieButton\";\n\nexport default MovieButton;\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport PropTypes from \"prop-types\";\nimport React, { memo } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst types = [\"Diary\", \"Ratings\"];\n\nconst MovieButton = memo(({ movie, type }) => {\n  let dateText;\n  if (type === \"Diary\" && movie.WatchedDateFormatted) {\n    dateText = `watched in ${movie.WatchedDateFormatted}`;\n  } else if (type === \"Ratings\" && movie.DateFormatted) {\n    dateText = `rated in ${movie.DateFormatted}`;\n  }\n  return (\n    <Link className=\"btn btn-secondary d-block\" to={`/movie/${movie.Id}`}>\n      <div className=\"text-start text-truncate\">\n        {movie.Name}\n        <span className=\"ms-1 small\">({movie.Year})</span>\n      </div>\n      <div className=\"align-items-end row small\">\n        <div className=\"col text-start text-warning\">\n          {Array.from(Array(movie.Rating)).map((item, i) => (\n            // eslint-disable-next-line react/no-array-index-key\n            <FontAwesomeIcon key={i} className=\"me-1\" icon=\"star\" />\n          ))}\n        </div>\n        <div className=\"col small text-end\">{dateText}</div>\n      </div>\n    </Link>\n  );\n});\n\nMovieButton.propTypes = {\n  movie: PropTypes.shape({\n    Id: PropTypes.string.isRequired,\n    Date: PropTypes.string.isRequired,\n    DateFormatted: PropTypes.string.isRequired,\n    LetterboxdURI: PropTypes.string.isRequired,\n    Name: PropTypes.string.isRequired,\n    Rating: PropTypes.number.isRequired,\n    WatchedDate: PropTypes.string,\n    WatchedDateFormatted: PropTypes.string,\n    Year: PropTypes.number.isRequired,\n  }).isRequired,\n  type: PropTypes.oneOf(types).isRequired,\n};\n\nexport default MovieButton;\nexport { types };\n","import PropTypes from \"prop-types\";\nimport React, { memo, useContext, useEffect, useReducer } from \"react\";\n\nimport MovieDiaryContext from \"../../contexts/MovieDiaryContext\";\nimport MovieRatingsContext from \"../../contexts/MovieRatingsContext\";\nimport LoadingHandler from \"../LoadingHandler\";\nimport MovieButton from \"../MovieButton\";\n\nconst initialState = {\n  dispatchMovie: null,\n  dispatchMovieType: \"\",\n  moviesFiltered: [],\n  moviesPaginated: [],\n  moviesStatus: null,\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"setAll\":\n      return { ...state, ...action.payload };\n    default:\n      throw new Error();\n  }\n}\n\nconst MovieList = memo(({ type }) => {\n  const [state, dispatchMovieList] = useReducer(reducer, initialState);\n  const {\n    dispatchMovieDiary,\n    movieDiaryFiltered,\n    movieDiaryPage,\n    movieDiaryPaginated,\n    movieDiarySearchString,\n    movieDiaryStatus,\n  } = useContext(MovieDiaryContext);\n  const {\n    dispatchMovieRatings,\n    movieRatingsFiltered,\n    movieRatingsPage,\n    movieRatingsPaginated,\n    movieRatingsSearchString,\n    movieRatingsStatus,\n  } = useContext(MovieRatingsContext);\n\n  useEffect(() => {\n    let payload;\n    if (type === \"Diary\") {\n      payload = {\n        dispatchMovie: dispatchMovieDiary,\n        dispatchMovieType: \"setMovieDiaryPage\",\n        moviesFiltered: movieDiaryFiltered,\n        moviesPaginated: movieDiaryPaginated,\n        moviesStatus: movieDiaryStatus,\n      };\n    } else if (type === \"Ratings\") {\n      payload = {\n        dispatchMovie: dispatchMovieRatings,\n        dispatchMovieType: \"setMovieRatingsPage\",\n        moviesFiltered: movieRatingsFiltered,\n        moviesPaginated: movieRatingsPaginated,\n        moviesStatus: movieRatingsStatus,\n      };\n    }\n    dispatchMovieList({ type: \"setAll\", payload });\n  }, [\n    dispatchMovieDiary,\n    dispatchMovieRatings,\n    movieDiaryFiltered,\n    movieDiaryPage,\n    movieDiaryPaginated,\n    movieDiarySearchString,\n    movieDiaryStatus,\n    movieRatingsFiltered,\n    movieRatingsPage,\n    movieRatingsPaginated,\n    movieRatingsSearchString,\n    movieRatingsStatus,\n    type,\n  ]);\n\n  return (\n    <LoadingHandler\n      dataStatus={state.moviesStatus}\n      hasData={!!state.moviesFiltered.length}\n      messageNoData=\"noMovies\"\n    >\n      <>\n        <ul className=\"list-unstyled\">\n          {state.moviesPaginated.map((movie) => (\n            <li className=\"mb-3\" key={movie.Id}>\n              <MovieButton movie={movie} type={type} />\n            </li>\n          ))}\n        </ul>\n        {state.moviesPaginated.length < state.moviesFiltered.length && (\n          <div className=\"mb-3 text-center\">\n            <button\n              className=\"btn btn-danger\"\n              type=\"button\"\n              onClick={() =>\n                state.dispatchMovie({ type: state.dispatchMovieType })\n              }\n            >\n              Show more\n            </button>\n          </div>\n        )}\n      </>\n    </LoadingHandler>\n  );\n});\n\nMovieList.propTypes = {\n  type: PropTypes.oneOf([\"Diary\", \"Ratings\"]).isRequired,\n};\n\nexport default MovieList;\n","import MovieList from \"./MovieList\";\n\nexport default MovieList;\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport PropTypes from \"prop-types\";\nimport React, { useContext, useEffect, useReducer } from \"react\";\n\nimport MovieDiaryContext from \"../../contexts/MovieDiaryContext\";\nimport MovieRatingsContext from \"../../contexts/MovieRatingsContext\";\n\nconst initialState = {\n  dispatchMovie: null,\n  dispatchMovieType: \"\",\n  movieSearchString: \"\",\n  moviesFiltered: [],\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"setAll\":\n      return { ...state, ...action.payload };\n    default:\n      throw new Error();\n  }\n}\n\nconst MovieNameSearch = ({ type }) => {\n  const [state, dispatchMovieNameSearch] = useReducer(reducer, initialState);\n  const {\n    dispatchMovieDiary,\n    movieDiaryFiltered,\n    movieDiarySearchString,\n    movieDiaryStatus,\n  } = useContext(MovieDiaryContext);\n  const {\n    dispatchMovieRatings,\n    movieRatingsFiltered,\n    movieRatingsSearchString,\n    movieRatingsStatus,\n  } = useContext(MovieRatingsContext);\n\n  useEffect(() => {\n    let payload;\n    if (type === \"Diary\") {\n      payload = {\n        dispatchMovie: dispatchMovieDiary,\n        dispatchMovieType: \"setMovieDiarySearchString\",\n        movieSearchString: movieDiarySearchString,\n        moviesFiltered: movieDiaryFiltered,\n      };\n    } else if (type === \"Ratings\") {\n      payload = {\n        dispatchMovie: dispatchMovieRatings,\n        dispatchMovieType: \"setMovieRatingsSearchString\",\n        movieSearchString: movieRatingsSearchString,\n        moviesFiltered: movieRatingsFiltered,\n      };\n    }\n    dispatchMovieNameSearch({ type: \"setAll\", payload });\n  }, [\n    dispatchMovieDiary,\n    dispatchMovieRatings,\n    movieDiaryFiltered,\n    movieDiarySearchString,\n    movieDiaryStatus,\n    movieRatingsFiltered,\n    movieRatingsSearchString,\n    movieRatingsStatus,\n    type,\n  ]);\n\n  return (\n    <div className=\"mb-3\">\n      <div className=\"input-group mb-1\">\n        <input\n          id=\"search-movie\"\n          className=\"form-control\"\n          placeholder=\"Search...\"\n          type=\"text\"\n          value={state.movieSearchString}\n          onChange={(event) =>\n            state.dispatchMovie({\n              type: state.dispatchMovieType,\n              payload: event.target.value,\n            })\n          }\n        />\n        <button\n          className=\"btn btn-secondary\"\n          type=\"button\"\n          onClick={() =>\n            state.dispatchMovie({ type: state.dispatchMovieType, payload: \"\" })\n          }\n        >\n          <FontAwesomeIcon icon=\"times\" />\n        </button>\n      </div>\n      <p className=\"small text-end\">{state.moviesFiltered.length} movies</p>\n    </div>\n  );\n};\n\nMovieNameSearch.propTypes = {\n  type: PropTypes.string.isRequired,\n};\n\nexport default MovieNameSearch;\n","import MovieNameSearch from \"./MovieNameSearch\";\n\nexport default MovieNameSearch;\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\n\nimport MovieList from \"../components/MovieList\";\nimport MovieNameSearch from \"../components/MovieNameSearch\";\n\nconst PageMovies = ({ type }) => (\n  <>\n    <h1 className=\"h4\">{type}</h1>\n    <div className=\"row\">\n      <div className=\"col-12 col-sm-4\">\n        <MovieNameSearch type={type} />\n      </div>\n      <div className=\"col-12 col-sm-8\">\n        <MovieList type={type} />\n      </div>\n    </div>\n  </>\n);\n\nPageMovies.propTypes = {\n  type: PropTypes.string.isRequired,\n};\n\nexport default PageMovies;\n"],"sourceRoot":""}