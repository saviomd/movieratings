{"version":3,"sources":["helpers/filterMoviesByName.js","helpers/formatMovieList.js","helpers/letterboxdServices.js","contexts/movieDiaryContext.js","contexts/movieRatingsContext.js","components/Anchor/Anchor.js","components/Anchor/index.js","components/Footer/index.js","components/Footer/Footer.js","components/NavItem/index.js","components/NavItem/NavItem.js","components/Nav/index.js","components/Nav/Nav.js","components/Header/index.js","components/Header/Header.js","helpers/tmdbApi.js","helpers/formatMovieInfo.js","contexts/movieInfoContext.js","helpers/tmdbServices.js","components/Message/index.js","components/Message/Message.js","components/LoadingHandler/LoadingHandler.js","components/LoadingHandler/index.js","contexts/movieCreditsContext.js","helpers/formatMovieCredits.js","contexts/movieRecommendationsContext.js","helpers/formatMovieRecommendations.js","components/Image/Image.js","components/Image/index.js","components/ScrollableHorizontalList/index.js","components/ScrollableHorizontalList/ScrollableHorizontalList.js","components/MovieInfo/MovieInfoCastCrew/index.js","components/MovieInfo/MovieInfoCastCrew/MovieInfoCastCrew.js","components/MovieInfo/MovieInfoRecommendations/index.js","components/MovieInfo/MovieInfoRecommendations/MovieInfoRecommendations.js","components/MovieInfo/MovieInfoBody/index.js","components/MovieInfo/MovieInfoBody/MovieInfoBody.js","components/MovieInfo/MovieInfoHeader/index.js","components/MovieInfo/MovieInfoHeader/MovieInfoHeader.js","components/MovieInfo/index.js","components/MovieInfo/MovieInfo.js","pages/PageMovieInfo.js","components/MovieButton/index.js","components/MovieButton/MovieButton.js","components/MovieList/MovieList.js","components/MovieList/index.js","components/MovieNameSearch/MovieNameSearch.js","components/MovieNameSearch/index.js","pages/PageMovies.js","pages/PageNotFound.js","components/ProgressBar/index.js","components/ProgressBar/ProgressBar.js","components/MovieStats/MovieStats.js","components/MovieStats/index.js","pages/PageStats.js","components/SiteInfo/index.js","components/SiteInfo/SiteInfo.js","App.js","serviceWorker.js","index.js"],"names":["filterMoviesByName","movieList","value","filter","movie","Name","toLowerCase","includes","formatMovieList","reverse","map","index","Id","LetterboxdURI","length","split","toString","DateFormatted","Date","toLocaleDateString","day","month","year","WatchedDate","WatchedDateFormatted","MovieDiaryContext","React","createContext","initialState","movieDiary","movieDiaryPage","movieDiarySearchString","movieDiaryStatus","reducer","state","action","type","payload","Error","MovieDiaryStore","children","useReducer","dispatchMovieDiary","movieDiaryFiltered","useMemo","movieDiaryPaginated","size","slice","moviesPerYearWatched","groups","reduce","acc","curr","max","loadMovieDiary","fetch","then","response","ok","status","json","movieDiaryFormatted","catch","error","console","log","message","useEffect","providerValue","Provider","MovieRatingsContext","movieRatings","movieRatingsPage","movieRatingsSearchString","movieRatingsStatus","MovieRatingsStore","dispatchMovieRatings","movieRatingsFiltered","movieRatingsPaginated","moviesPerDecadeReleased","decade","Year","substr","moviesPerRatingGiven","rating","Rating","loadMovieRatings","movieRatingsFormatted","Anchor","href","margin","target","marginClass","both","left","none","right","className","rel","defaultProps","Footer","memo","getFullYear","alt","src","height","width","icon","NavItem","link","to","path","exact","activeClassName","name","Nav","navLinks","Header","tmdbApi","img","attributionUrl","baseUrl","backdropSize","fallbackUrl","posterSize","key","pathMovieCredits","pathMovieRecommendations","pathSearchMovies","url","formatMovieInfo","newMovie","backdrop_url","backdrop_path","id","original_language","toUpperCase","original_title","overview","poster_url","poster_path","release_year","release_date","title","tmdbURI","vote_average","vote_count","MovieInfoContext","movieInfo","movieInfoStatus","MovieInfoStore","dispatchMovieInfo","loadMovieInfo","undefined","fetchMovieInfo","results","find","obj","indexOf","Message","messages","text","loading","noData","noMovies","noStats","pageNotFound","animation","LoadingHandler","dataStatus","hasData","messageNoData","MovieCreditsContext","movieCredits","cast","crew","movieCreditsStatus","MovieCreditsStore","movieId","dispatchMovieCredits","loadMovieCredits","replace","fetchMovieCredits","forEach","person","MovieRecommendationsContext","movieRecommendations","movieRecommendationsStatus","MovieRecommendationsStore","dispatchMovieRecommendations","loadMovieRecommendations","fetchMovieRecommendations","Image","dimensions","backdrop","poster","style","paddingTop","ScrollableHorizontalList","overflowX","WebkitOverflowScrolling","MovieInfoCastCrew","useContext","movieCreditsContext","character","credit_id","job","MovieInfoRecommendations","movieRecommendationsContext","MovieInfoBody","movieInfoContext","MovieInfoHeader","MovieInfo","PageMovieInfo","match","movieDiaryContext","movieRatingsContext","params","MovieButton","dateText","Array","from","item","i","dispatchMovie","dispatchMovieType","moviesFiltered","moviesPaginated","moviesStatus","MovieList","dispatchMovieList","onClick","movieSearchString","MovieNameSearch","dispatchMovieNameSearch","placeholder","onChange","event","PageMovies","PageNotFound","ProgressBar","MovieStats","movies","Object","entries","stars","push","PageStats","SiteInfo","library","add","faCalendarAlt","faChartBar","faDizzy","faExternalLinkAlt","faFrown","faHourglassHalf","faSadTear","faStar","faTimes","App","useState","render","component","isLocalhost","Boolean","window","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","router","ReactDOM","document","getElementById","URL","process","origin","addEventListener","contentType","headers","get","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.6380c907.chunk.js","sourcesContent":["export default function filterMoviesByName (movieList, value) {\n\treturn movieList.filter((movie) => {\n\t\tconst movieName = movie.Name.toLowerCase();\n\t\treturn (movieName.includes(value.toLowerCase()));\n\t});\n}\n","export default function formatMovieList(movieList) {\n\tmovieList.reverse();\n\tmovieList = movieList.map((movie, index) => {\n\t\tmovie.Id = (movie.LetterboxdURI.length ? movie.LetterboxdURI.split('boxd.it/')[1] : index.toString());\n\t\tmovie.Name = movie.Name.toString();\n\t\tmovie.DateFormatted = (new Date(movie.Date)).toLocaleDateString('en-GB', {day: '2-digit', month: 'short', year: 'numeric'});\n\t\tif (movie.WatchedDate) {\n\t\t\tmovie.WatchedDateFormatted = (new Date(movie.WatchedDate)).toLocaleDateString('en-GB', {day: '2-digit', month: 'short', year: 'numeric'});\n\t\t}\n\t\treturn movie;\n\t});\n\treturn movieList;\n}\n","export const fetchMovieDiary = () => {\n\treturn fetch('https://saviomd.com/movieratings/data/diary.json').then((response) => {\n\t\tif (!response.ok) {\n\t\t\tthrow Error(response.status);\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const fetchMovieRatings = () => {\n\treturn fetch('https://saviomd.com/movieratings/data/ratings.json').then((response) => {\n\t\tif (!response.ok) {\n\t\t\tthrow Error(response.status);\n\t\t}\n\t\treturn response.json();\n\t});\n};\n","import React, { useEffect, useMemo, useReducer } from 'react';\n\nimport filterMoviesByName from '../helpers/filterMoviesByName';\nimport formatMovieList from '../helpers/formatMovieList';\nimport { fetchMovieDiary } from '../helpers/letterboxdServices';\n\nconst MovieDiaryContext = React.createContext();\n\nconst initialState = {\n\tmovieDiary: [],\n\tmovieDiaryPage: 1,\n\tmovieDiarySearchString: '',\n\tmovieDiaryStatus: '',\n};\n\nfunction reducer(state, action) {\n\tswitch (action.type) {\n\t\tcase 'setMovieDiary':\n\t\t\treturn { ...state, movieDiary: action.payload, movieDiaryStatus: 'loaded' };\n\t\tcase 'setMovieDiaryPage':\n\t\t\treturn { ...state, movieDiaryPage: state.movieDiaryPage + 1 };\n\t\tcase 'setMovieDiarySearchString':\n\t\t\treturn { ...state, movieDiarySearchString: action.payload.toLowerCase() };\n\t\tcase 'setMovieDiaryStatus':\n\t\t\treturn { ...state, movieDiaryStatus: action.payload };\n\t\tdefault:\n\t\t\tthrow new Error();\n\t}\n}\n\nconst MovieDiaryStore = ({ children }) => {\n\tconst [state, dispatchMovieDiary] = useReducer(reducer, initialState);\n\n\tconst movieDiaryFiltered = useMemo(() => filterMoviesByName(state.movieDiary, state.movieDiarySearchString), [state.movieDiary, state.movieDiarySearchString]);\n\n\tconst movieDiaryPaginated = useMemo(() => {\n\t\tconst size = state.movieDiaryPage * 100;\n\t\treturn movieDiaryFiltered.slice(0, size);\n\t}, [movieDiaryFiltered, state.movieDiaryPage]);\n\n\tconst moviesPerYearWatched = useMemo(() => {\n\t\tconst groups = state.movieDiary.reduce((acc, curr) => {\n\t\t\tconst year = curr.WatchedDate.split('-')[0];\n\t\t\tacc[year] ? acc[year]++ : acc[year] = 1;\n\t\t\treturn acc;\n\t\t}, {});\n\t\tlet max = 0;\n\t\tfor (const year in groups) {\n\t\t\tmax = (groups[year] > max ? groups[year] : max);\n\t\t}\n\t\treturn { groups, max };\n\t}, [state.movieDiary]);\n\n\tfunction loadMovieDiary() {\n\t\tdispatchMovieDiary({ type: 'setMovieDiaryStatus', payload: 'loading' });\n\t\treturn fetchMovieDiary()\n\t\t\t.then(json => {\n\t\t\t\tconst movieDiaryFormatted = formatMovieList(json);\n\t\t\t\tdispatchMovieDiary({ type: 'setMovieDiary', payload: movieDiaryFormatted });\n\t\t\t\treturn movieDiaryFormatted;\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tdispatchMovieDiary({ type: 'setMovieDiaryStatus', payload: 'error' });\n\t\t\t\tconsole.log(error.message);\n\t\t\t});\n\t}\n\n\tuseEffect(() => {\n\t\tloadMovieDiary();\n\t}, []);\n\n\tconst providerValue = useMemo(() => ({\n\t\t...state,\n\t\tdispatchMovieDiary,\n\t\tmovieDiaryFiltered,\n\t\tmovieDiaryPaginated,\n\t\tmoviesPerYearWatched,\n\t}), [\n\t\tmovieDiaryFiltered,\n\t\tmovieDiaryPaginated,\n\t\tmoviesPerYearWatched,\n\t\tstate,\n\t]);\n\treturn (\n\t\t<MovieDiaryContext.Provider value={providerValue}>\n\t\t\t{children}\n\t\t</MovieDiaryContext.Provider>\n\t);\n};\n\nexport {\n\tMovieDiaryContext as default,\n\tMovieDiaryStore,\n};\n","import React, { useEffect, useMemo, useReducer } from 'react';\n\nimport filterMoviesByName from '../helpers/filterMoviesByName';\nimport formatMovieList from '../helpers/formatMovieList';\nimport { fetchMovieRatings } from '../helpers/letterboxdServices';\n\nconst MovieRatingsContext = React.createContext();\n\nconst initialState = {\n\tmovieRatings: [],\n\tmovieRatingsPage: 1,\n\tmovieRatingsSearchString: '',\n\tmovieRatingsStatus: '',\n};\n\nfunction reducer(state, action) {\n\tswitch (action.type) {\n\t\tcase 'setMovieRatings':\n\t\t\treturn { ...state, movieRatings: action.payload, movieRatingsStatus: 'loaded' };\n\t\tcase 'setMovieRatingsPage':\n\t\t\treturn { ...state, movieRatingsPage: state.movieRatingsPage + 1 };\n\t\tcase 'setMovieRatingsSearchString':\n\t\t\treturn { ...state, movieRatingsSearchString: action.payload.toLowerCase() };\n\t\tcase 'setMovieRatingsStatus':\n\t\t\treturn { ...state, movieRatingsStatus: action.payload };\n\t\tdefault:\n\t\t\tthrow new Error();\n\t}\n}\n\nconst MovieRatingsStore = ({ children }) => {\n\tconst [state, dispatchMovieRatings] = useReducer(reducer, initialState);\n\n\tconst movieRatingsFiltered = useMemo(() => filterMoviesByName(state.movieRatings, state.movieRatingsSearchString), [state.movieRatings, state.movieRatingsSearchString]);\n\n\tconst movieRatingsPaginated = useMemo(() => {\n\t\tconst size = state.movieRatingsPage * 100;\n\t\treturn movieRatingsFiltered.slice(0, size);\n\t}, [movieRatingsFiltered, state.movieRatingsPage]);\n\n\tconst moviesPerDecadeReleased = useMemo(() => {\n\t\tconst groups = state.movieRatings.reduce((acc, curr) => {\n\t\t\tconst decade = `${curr.Year.toString().substr(0, 3)}0`;\n\t\t\tacc[decade] ? acc[decade]++ : acc[decade] = 1;\n\t\t\treturn acc;\n\t\t}, {});\n\t\tlet max = 0;\n\t\tfor (const decade in groups) {\n\t\t\tmax = (groups[decade] > max ? groups[decade] : max);\n\t\t}\n\t\treturn { groups, max };\n\t}, [state.movieRatings]);\n\n\tconst moviesPerRatingGiven = useMemo(() => {\n\t\tconst groups = state.movieRatings.reduce((acc, curr) => {\n\t\t\tconst rating = curr.Rating;\n\t\t\tacc[rating] ? acc[rating]++ : acc[rating] = 1;\n\t\t\treturn acc;\n\t\t}, {});\n\t\tlet max = 0;\n\t\tfor (const rating in groups) {\n\t\t\tmax = (groups[rating] > max ? groups[rating] : max);\n\t\t}\n\t\treturn { groups, max };\n\t}, [state.movieRatings]);\n\n\tfunction loadMovieRatings() {\n\t\tdispatchMovieRatings({ type: 'setMovieRatingsStatus', payload: 'loading' });\n\t\treturn fetchMovieRatings()\n\t\t\t.then(json => {\n\t\t\t\tconst movieRatingsFormatted = formatMovieList(json);\n\t\t\t\tdispatchMovieRatings({ type: 'setMovieRatings', payload: movieRatingsFormatted });\n\t\t\t\treturn movieRatingsFormatted;\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tdispatchMovieRatings({ type: 'setMovieRatingsStatus', payload: 'error' });\n\t\t\t\tconsole.log(error.message);\n\t\t\t});\n\t}\n\n\tuseEffect(() => {\n\t\tloadMovieRatings();\n\t}, []);\n\n\tconst providerValue = useMemo(() => ({\n\t\t...state,\n\t\tdispatchMovieRatings,\n\t\tmovieRatingsFiltered,\n\t\tmovieRatingsPaginated,\n\t\tmoviesPerDecadeReleased,\n\t\tmoviesPerRatingGiven,\n\t}), [\n\t\tmovieRatingsFiltered,\n\t\tmovieRatingsPaginated,\n\t\tmoviesPerDecadeReleased,\n\t\tmoviesPerRatingGiven,\n\t\tstate,\n\t]);\n\treturn (\n\t\t<MovieRatingsContext.Provider value={providerValue}>\n\t\t\t{children}\n\t\t</MovieRatingsContext.Provider>\n\t);\n};\n\nexport {\n\tMovieRatingsContext as default,\n\tMovieRatingsStore,\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst Anchor = ({ children, href, margin, target }) => {\n\tconst marginClasses = {\n\t\tboth: 'm-1',\n\t\tleft: 'ms-1',\n\t\tnone: '',\n\t\tright: 'me-1',\n\t}\n\tconst marginClass = marginClasses[margin];\n\treturn (\n\t\t<a className={`${marginClass} text-danger text-decoration-none`} href={href} target={target} rel={target === '_blank' ? 'noopener noreferrer' : null}>\n\t\t\t{children}\n\t\t</a>\n\t);\n};\n\nAnchor.propTypes = {\n\tchildren: PropTypes.oneOfType([\n\t\tPropTypes.arrayOf(PropTypes.node),\n\t\tPropTypes.node\n\t]).isRequired,\n\thref: PropTypes.string.isRequired,\n\tmargin: PropTypes.oneOf([\n\t\t'both',\n\t\t'left',\n\t\t'none',\n\t\t'right',\n\t]),\n\ttarget: PropTypes.oneOf([\n\t\t'_blank',\n\t\t'_parent',\n\t\t'_self',\n\t\t'_top',\n\t]),\n};\n\nAnchor.defaultProps = {\n\tmargin: null,\n\ttarget: null,\n}\n\nexport default Anchor;\n","import Anchor from './Anchor';\n\nexport default Anchor;\n","import Footer from './Footer';\n\nexport default Footer;\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { memo } from 'react';\n\nimport Anchor from '../Anchor';\n\nconst Footer = memo(function Footer () {\n\tconst year = (new Date()).getFullYear();\n\treturn (\n\t\t<footer className=\"border-secondary border-top mb-3 pt-3 small text-center\">\n\t\t\t&copy; 2017-{year}\n\t\t\t<Anchor href=\"http://saviomd.com/\" margin=\"left\" target=\"_blank\">\n\t\t\t\t<img alt=\"saviomd.com\" className=\"me-1\" src=\"https://saviomd.com/img/favicon.png\" height=\"15\" width=\"15\" />\n\t\t\t\tSÃ¡vio Mendes\n\t\t\t\t<FontAwesomeIcon className=\"ms-1 small\" icon=\"external-link-alt\" />\n\t\t\t</Anchor>\n\t\t</footer>\n\t)\n});\n\nexport default Footer;\n","import NavItem from './NavItem';\n\nexport default NavItem;\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst NavItem = ({ link }) => (\n\t<NavLink to={link.path} exact activeClassName=\"active\" className=\"btn btn-danger btn-sm\">\n\t\t<FontAwesomeIcon icon={link.icon} />\n\t\t<span className=\"d-none d-sm-inline-block ms-1\">{link.name}</span>\n\t</NavLink>\n);\n\nNavItem.propTypes = {\n\tlink: PropTypes.shape({\n\t\ticon: PropTypes.string.isRequired,\n\t\tname: PropTypes.string.isRequired,\n\t\tpath: PropTypes.string.isRequired\n\t})\n};\n\nexport default NavItem;\n","import Nav from './Nav';\n\nexport default Nav;\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport NavItem from '../NavItem';\n\nconst Nav = ({ navLinks }) => (\n\t<nav className=\"btn-group\">\n\t\t{navLinks.map(link => (\n\t\t\t<NavItem key={link.path} link={link} />\n\t\t))}\n\t</nav>\n);\n\nNav.propTypes = {\n\tnavLinks: PropTypes.array.isRequired\n};\n\nexport default Nav;\n","import Header from './Header';\n\nexport default Header;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport Nav from '../Nav';\n\nconst Header = ({ navLinks }) => (\n\t<header className=\"border-bottom border-secondary mb-3\">\n\t\t<div className=\"align-items-center my-2 row\">\n\t\t\t<h1 className=\"col h5 mb-0\">\n\t\t\t\t<NavLink to=\"/\" exact className=\"text-decoration-none text-white\">Movie Ratings</NavLink>\n\t\t\t</h1>\n\t\t\t<div className=\"col-auto\">\n\t\t\t\t<Nav navLinks={navLinks} />\n\t\t\t</div>\n\t\t</div>\n\t</header>\n);\n\nHeader.propTypes = {\n\tnavLinks: PropTypes.array.isRequired\n};\n\nexport default Header;\n","const tmdbApi = {\n\timg: {\n\t\tattributionUrl: 'https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg',\n\t\tbaseUrl: 'https://image.tmdb.org/t/p/',\n\t\tbackdropSize: 'w1280',\n\t\tfallbackUrl: 'https://www.themoviedb.org/assets/1/v4/logos/293x302-powered-by-square-blue-ee05c47ab249273a6f9f1dcafec63daba386ca30544567629deb1809395d8516.png',\n\t\tposterSize: 'w780'\n\t},\n\tkey: 'api_key=6f875d4fba2e999f480afa6275a08f75',\n\tpathMovieCredits: 'movie/{movie_id}/credits',\n\tpathMovieRecommendations: 'movie/{movie_id}/recommendations',\n\tpathSearchMovies: 'search/movie',\n\turl: 'https://api.themoviedb.org/3/'\n};\n\nexport default tmdbApi;\n","import tmdbApi from './tmdbApi';\n\nexport default function formatMovieInfo(movie, newMovie) {\n\treturn {\n\t\tbackdrop_url: (newMovie.backdrop_path ? tmdbApi.img.baseUrl + tmdbApi.img.backdropSize + newMovie.backdrop_path : null),\n\t\tid: newMovie.id,\n\t\tLetterboxdURI: movie.LetterboxdURI,\n\t\toriginal_language: newMovie.original_language.toUpperCase(),\n\t\toriginal_title: newMovie.original_title,\n\t\toverview: newMovie.overview,\n\t\tposter_url: (newMovie.poster_path ? tmdbApi.img.baseUrl + tmdbApi.img.posterSize + newMovie.poster_path : null),\n\t\tRating: movie.Rating,\n\t\trelease_year: newMovie.release_date.split('-')[0],\n\t\ttitle: newMovie.title,\n\t\ttmdbURI: `https://www.themoviedb.org/movie/${newMovie.id}`,\n\t\tvote_average: newMovie.vote_average,\n\t\tvote_count: newMovie.vote_count,\n\t};\n}\n","import React, { useEffect, useMemo, useReducer } from 'react';\n\nimport { fetchMovieInfo } from '../helpers/tmdbServices';\nimport tmdbApi from '../helpers/tmdbApi';\nimport formatMovieInfo from '../helpers/formatMovieInfo';\n\nconst MovieInfoContext = React.createContext();\n\nconst initialState = {\n\tmovieInfo: {\n\t\tbackdrop_url: tmdbApi.img.fallbackUrl,\n\t\tid: '',\n\t\tLetterboxdURI: '',\n\t\toverview: '',\n\t\tposter_url: tmdbApi.img.fallbackUrl,\n\t\tRating: '',\n\t\ttitle: '',\n\t\tvote_average: ''\n\t},\n\tmovieInfoStatus: ''\n};\n\nfunction reducer(state, action) {\n\tswitch (action.type) {\n\t\tcase 'setMovieInfo':\n\t\t\treturn { ...state, movieInfo: action.payload, movieInfoStatus: 'loaded' };\n\t\tcase 'setMovieInfoStatus':\n\t\t\treturn { ...state, movieInfoStatus: action.payload };\n\t\tdefault:\n\t\t\tthrow new Error();\n\t}\n}\n\nconst MovieInfoStore = ({ children, movie }) => {\n\tconst [state, dispatchMovieInfo] = useReducer(reducer, initialState);\n\n\tfunction loadMovieInfo(movie) {\n\t\tif (movie !== undefined) {\n\t\t\tdispatchMovieInfo({ type: 'setMovieInfoStatus', payload: 'loading' });\n\t\t\tfetchMovieInfo(movie)\n\t\t\t\t.then((json) => {\n\t\t\t\t\tif (json.results.length) {\n\t\t\t\t\t\tconst newMovie = json.results.find(obj => (obj.title === movie.Name && obj.release_date.indexOf(movie.Year) > -1));\n\t\t\t\t\t\tif (newMovie !== undefined) {\n\t\t\t\t\t\t\tdispatchMovieInfo({ type: 'setMovieInfo', payload: formatMovieInfo(movie, newMovie) });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow Error('No movie found');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow Error('No movie found');\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tdispatchMovieInfo({ type: 'setMovieInfoStatus', payload: 'error' });\n\t\t\t\t\tconsole.log(error.message);\n\t\t\t\t});\n\t\t} else {\n\t\t\tdispatchMovieInfo({ type: 'setMovieInfoStatus', payload: 'error' });\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tloadMovieInfo(movie);\n\t}, [movie]);\n\n\tconst providerValue = useMemo(() => state, [state]);\n\treturn (\n\t\t<MovieInfoContext.Provider value={providerValue}>\n\t\t\t{children}\n\t\t</MovieInfoContext.Provider>\n\t);\n};\n\nexport {\n\tMovieInfoContext as default,\n\tMovieInfoStore,\n};\n","import tmdbApi from '../helpers/tmdbApi';\n\nexport const fetchMovieCredits = (movieId) => {\n\tconst url = `${tmdbApi.url}${tmdbApi.pathMovieCredits}?${tmdbApi.key}`.replace('{movie_id}', movieId);\n\treturn fetch(url).then((response) => {\n\t\tif (!response.ok) {\n\t\t\tthrow Error(response.status);\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const fetchMovieInfo = (movie) => {\n\treturn fetch(`${tmdbApi.url}${tmdbApi.pathSearchMovies}?${tmdbApi.key}&query=${movie.Name}&year=${movie.Year}`).then((response) => {\n\t\tif (!response.ok) {\n\t\t\tthrow Error(response.status);\n\t\t}\n\t\treturn response.json();\n\t});\n};\n\nexport const fetchMovieRecommendations = (movieId) => {\n\tconst url = `${tmdbApi.url}${tmdbApi.pathMovieRecommendations}?${tmdbApi.key}`.replace('{movie_id}', movieId);\n\treturn fetch(url).then((response) => {\n\t\tif (!response.ok) {\n\t\t\tthrow Error(response.status);\n\t\t}\n\t\treturn response.json();\n\t});\n};\n","import Message from './Message';\n\nexport default Message;\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport PropTypes from 'prop-types';\nimport React, { memo } from 'react';\n\nconst Message = memo(function Message({ type }) {\n\tconst messages = {\n\t\terror: {\n\t\t\ticon: 'sad-tear',\n\t\t\ttext: 'An error has ocurred'\n\t\t},\n\t\tloading: {\n\t\t\ticon: 'hourglass-half',\n\t\t\ttext: 'Loading...'\n\t\t},\n\t\tnoData: {\n\t\t\ticon: 'frown',\n\t\t\ttext: 'No data to show'\n\t\t},\n\t\tnoMovies: {\n\t\t\ticon: 'frown',\n\t\t\ttext: 'No movies to show'\n\t\t},\n\t\tnoStats: {\n\t\t\ticon: 'frown',\n\t\t\ttext: 'No stats to show'\n\t\t},\n\t\tpageNotFound: {\n\t\t\ticon: 'dizzy',\n\t\t\ttext: 'Page not found'\n\t\t},\n\t};\n\tconst animation = `animate__${type === 'loading' ? 'heartBeat' : 'headShake'}`;\n\treturn (\n\t\t<div className=\"lead p-3 text-center\">\n\t\t\t<div className={`animate__animated ${animation} h3 mb-3`}>\n\t\t\t\t<span className=\"bg-secondary p-2 rounded\">\n\t\t\t\t\t<FontAwesomeIcon icon={messages[type].icon} />\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t{messages[type].text}\n\t\t</div>\n\t);\n});\n\nMessage.propTypes = {\n\ttype: PropTypes.string.isRequired\n};\n\nexport default Message;\n","import PropTypes from 'prop-types';\nimport React, { memo } from 'react';\n\nimport Message from '../Message';\n\nconst LoadingHandler = memo(function LoadingHandler({\n\tchildren,\n\tdataStatus,\n\thasData,\n\tmessageNoData,\n}) {\n\treturn (\n\t\t<>\n\t\t\t{(dataStatus === 'loaded' && hasData) && (\n\t\t\t\t<>{children}</>\n\t\t\t)}\n\t\t\t{(dataStatus === 'loaded' && !hasData) && (\n\t\t\t\t<Message type={messageNoData} />\n\t\t\t)}\n\t\t\t{(dataStatus === 'loading' || dataStatus === 'error') && (\n\t\t\t\t<Message type={dataStatus} />\n\t\t\t)}\n\t\t</>\n\t);\n});\n\nLoadingHandler.propTypes = {\n\tchildren: PropTypes.oneOfType([\n\t\tPropTypes.arrayOf(PropTypes.node),\n\t\tPropTypes.node\n\t]).isRequired,\n\tdataStatus: PropTypes.string,\n\thasData: PropTypes.bool,\n\tmessageNoData: PropTypes.string,\n};\n\nLoadingHandler.defaultProps = {\n\tdataStatus: '',\n\thasData: true,\n\tmessageNoData: 'noData',\n};\n\nexport default LoadingHandler;\n","import LoadingHandler from './LoadingHandler';\n\nexport default LoadingHandler;\n","import React, { useEffect, useMemo, useReducer } from 'react';\n\nimport formatMovieCredits from '../helpers/formatMovieCredits';\nimport { fetchMovieCredits } from '../helpers/tmdbServices';\n\nconst MovieCreditsContext = React.createContext();\n\nconst initialState = {\n\tmovieCredits: {\n\t\tcast: [],\n\t\tcrew: [],\n\t\tid: ''\n\t},\n\tmovieCreditsStatus: ''\n};\n\nfunction reducer(state, action) {\n\tswitch (action.type) {\n\t\tcase 'setMovieCredits':\n\t\t\treturn { ...state, movieCredits: action.payload, movieCreditsStatus: 'loaded' };\n\t\tcase 'setMovieCreditsStatus':\n\t\t\treturn { ...state, movieCreditsStatus: action.payload };\n\t\tdefault:\n\t\t\tthrow new Error();\n\t}\n}\n\nconst MovieCreditsStore = ({ children, movieId }) => {\n\tconst [state, dispatchMovieCredits] = useReducer(reducer, initialState);\n\n\tfunction loadMovieCredits(movieId) {\n\t\tdispatchMovieCredits({ type: 'setMovieCreditsStatus', payload: 'loading' });\n\t\tfetchMovieCredits(movieId)\n\t\t\t.then((json) => {\n\t\t\t\tdispatchMovieCredits({ type: 'setMovieCredits', payload: formatMovieCredits(json) });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tdispatchMovieCredits({ type: 'setMovieCreditsStatus', payload: 'error' });\n\t\t\t\tconsole.log(error.message);\n\t\t\t});\n\t}\n\n\tuseEffect(() => {\n\t\tloadMovieCredits(movieId);\n\t}, [movieId]);\n\n\tconst providerValue = useMemo(() => state, [state]);\n\treturn (\n\t\t<MovieCreditsContext.Provider value={providerValue}>\n\t\t\t{children}\n\t\t</MovieCreditsContext.Provider>\n\t);\n};\n\nexport {\n\tMovieCreditsContext as default,\n\tMovieCreditsStore,\n};\n","export default function formatMovieCredits(movieCredits) {\n\tmovieCredits.cast.forEach(person => {\n\t\tperson.tmdbURI = `https://www.themoviedb.org/person/${person.id}`;\n\t});\n\tmovieCredits.crew.forEach(person => {\n\t\tperson.tmdbURI = `https://www.themoviedb.org/person/${person.id}`;\n\t});\n\treturn movieCredits;\n}\n","import React, { useEffect, useMemo, useReducer } from 'react';\n\nimport formatMovieRecommendations from '../helpers/formatMovieRecommendations';\nimport { fetchMovieRecommendations } from '../helpers/tmdbServices';\n\nconst MovieRecommendationsContext = React.createContext();\n\nconst initialState = {\n\tmovieRecommendations: [],\n\tmovieRecommendationsStatus: ''\n};\n\nfunction reducer(state, action) {\n\tswitch (action.type) {\n\t\tcase 'setMovieRecommendations':\n\t\t\treturn { ...state, movieRecommendations: action.payload, movieRecommendationsStatus: 'loaded' };\n\t\tcase 'setMovieRecommendationsStatus':\n\t\t\treturn { ...state, movieRecommendationsStatus: action.payload };\n\t\tdefault:\n\t\t\tthrow new Error();\n\t}\n}\n\nconst MovieRecommendationsStore = ({ children, movieId }) => {\n\tconst [state, dispatchMovieRecommendations] = useReducer(reducer, initialState);\n\n\tfunction loadMovieRecommendations(movieId) {\n\t\tdispatchMovieRecommendations({ type: 'setMovieRecommendationsStatus', payload: 'loading' });\n\t\tfetchMovieRecommendations(movieId)\n\t\t\t.then((json) => {\n\t\t\t\tdispatchMovieRecommendations({ type: 'setMovieRecommendations', payload: formatMovieRecommendations(json.results) });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tdispatchMovieRecommendations({ type: 'setMovieRecommendationsStatus', payload: 'error' });\n\t\t\t\tconsole.log(error.message);\n\t\t\t});\n\t}\n\n\tuseEffect(() => {\n\t\tloadMovieRecommendations(movieId);\n\t}, [movieId]);\n\n\tconst providerValue = useMemo(() => state, [state]);\n\treturn (\n\t\t<MovieRecommendationsContext.Provider value={providerValue}>\n\t\t\t{children}\n\t\t</MovieRecommendationsContext.Provider>\n\t);\n};\n\nexport {\n\tMovieRecommendationsContext as default,\n\tMovieRecommendationsStore,\n};\n","import tmdbApi from './tmdbApi';\n\nexport default function formatMovieRecommendations(results) {\n\tresults.forEach(movie => {\n\t\tmovie.poster_url = (movie.poster_path ? tmdbApi.img.baseUrl + tmdbApi.img.posterSize + movie.poster_path : null);\n\t\tmovie.tmdbURI = `https://www.themoviedb.org/movie/${movie.id}`;\n\t})\n\treturn results;\n}\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst Image = ({ src, title, type }) => {\n\tconst types = {\n\t\tbackdrop: {\n\t\t\theight: 300,\n\t\t\twidth: 533,\n\t\t},\n\t\tposter: {\n\t\t\theight: 450,\n\t\t\twidth: 300,\n\t\t},\n\t};\n\tconst dimensions = types[type];\n\tconst style = {\n\t\tpaddingTop: `${dimensions.height/dimensions.width*100}%`,\n\t};\n\treturn (\n\t\t<div className=\"bg-secondary ratio text-white\" style={style}>\n\t\t\t{src ? (\n\t\t\t\t<img alt={`${type} for ${title}`} src={src} />\n\t\t\t) : (\n\t\t\t\t<div className=\"p-3 text-center\">{`No ${type} available for ${title}`}</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nImage.propTypes = {\n\tsrc: PropTypes.string,\n\ttitle: PropTypes.string.isRequired,\n\ttype: PropTypes.oneOf([\n\t\t'backdrop',\n\t\t'poster',\n\t]).isRequired,\n};\n\nImage.defaultProps = {\n\tsrc: null,\n};\n\nexport default Image;\n","import Image from './Image';\n\nexport default Image;\n","import ScrollableHorizontalList from './ScrollableHorizontalList';\n\nexport default ScrollableHorizontalList;\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst ScrollableHorizontalList = ({ children }) => {\n\tconst verticalListStyle = {\n\t\toverflowX: 'scroll',\n\t\tWebkitOverflowScrolling: 'touch',\n\t};\n\treturn (\n\t\t<ul className=\"flex-nowrap g-3 list-unstyled mb-0 pb-3 row\" style={verticalListStyle}>{children}</ul>\n\t);\n};\n\nScrollableHorizontalList.propTypes = {\n\tchildren: PropTypes.oneOfType([\n\t\tPropTypes.arrayOf(PropTypes.node),\n\t\tPropTypes.node\n\t]).isRequired,\n};\n\nexport default ScrollableHorizontalList;\n","import MovieInfoCastCrew from './MovieInfoCastCrew';\n\nexport default MovieInfoCastCrew;\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { useContext } from 'react';\n\nimport movieCreditsContext from '../../../contexts/movieCreditsContext';\nimport LoadingHandler from '../../LoadingHandler';\nimport ScrollableHorizontalList from '../../ScrollableHorizontalList';\n\nconst MovieInfoCastCrew = () => {\n\tconst { movieCredits, movieCreditsStatus } = useContext(movieCreditsContext);\n\treturn (\n\t\t<LoadingHandler dataStatus={movieCreditsStatus} hasData={!!movieCredits.id}>\n\t\t\t<h2 className=\"h4\">\n\t\t\t\tCast\n\t\t\t\t<FontAwesomeIcon className=\"ms-1 small\" icon=\"external-link-alt\" />\n\t\t\t</h2>\n\t\t\t{!!movieCredits.cast.length ? (\n\t\t\t\t<ScrollableHorizontalList>\n\t\t\t\t\t{movieCredits.cast.map(person => (\n\t\t\t\t\t\t<li className=\"col-auto\" key={person.credit_id}>\n\t\t\t\t\t\t\t<a className=\"btn btn-secondary btn-sm\" href={person.tmdbURI} rel=\"noopener noreferrer\" target=\"_blank\">\n\t\t\t\t\t\t\t\t{person.name}\n\t\t\t\t\t\t\t\t<div className=\"small\">{person.character}</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ScrollableHorizontalList>\n\t\t\t) : (\n\t\t\t\t<p>No data available</p>\n\t\t\t)}\n\t\t\t<h2 className=\"h4\">\n\t\t\t\tCrew\n\t\t\t\t<FontAwesomeIcon className=\"ms-1 small\" icon=\"external-link-alt\" />\n\t\t\t</h2>\n\t\t\t{!!movieCredits.crew.length ? (\n\t\t\t\t<ScrollableHorizontalList>\n\t\t\t\t\t{movieCredits.crew.map(person => (\n\t\t\t\t\t\t<li className=\"col-auto\" key={person.credit_id}>\n\t\t\t\t\t\t\t<a className=\"btn btn-secondary btn-sm\" href={person.tmdbURI} rel=\"noopener noreferrer\" target=\"_blank\">\n\t\t\t\t\t\t\t\t{person.name}\n\t\t\t\t\t\t\t\t<div className=\"small\">{person.job}</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ScrollableHorizontalList>\n\t\t\t) : (\n\t\t\t\t<p>No data available</p>\n\t\t\t)}\n\t\t</LoadingHandler>\n\t);\n};\n\nexport default MovieInfoCastCrew;\n","import MovieInfoRecommendations from './MovieInfoRecommendations';\n\nexport default MovieInfoRecommendations;\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { useContext } from 'react';\n\nimport movieRecommendationsContext from '../../../contexts/movieRecommendationsContext';\nimport Anchor from '../../Anchor';\nimport Image from '../../Image';\nimport LoadingHandler from '../../LoadingHandler';\nimport ScrollableHorizontalList from '../../ScrollableHorizontalList';\n\nconst MovieInfoRecommendations = () => {\n\tconst { movieRecommendations, movieRecommendationsStatus } = useContext(movieRecommendationsContext);\n\treturn (\n\t\t<LoadingHandler dataStatus={movieRecommendationsStatus} hasData={!!movieRecommendations.length}>\n\t\t\t<div className=\"p-3\">\n\t\t\t\t<h2 className=\"h4\">\n\t\t\t\t\tRecommendations\n\t\t\t\t\t<FontAwesomeIcon className=\"ms-1 small\" icon=\"external-link-alt\" />\n\t\t\t\t</h2>\n\t\t\t\t<ScrollableHorizontalList>\n\t\t\t\t\t{movieRecommendations.map(movie => (\n\t\t\t\t\t\t<li className=\"col-5 col-md-3 col-lg-2\" key={movie.id}>\n\t\t\t\t\t\t\t<Anchor href={movie.tmdbURI} target=\"_blank\">\n\t\t\t\t\t\t\t\t<Image src={movie.poster_url} title={movie.title} type=\"poster\" />\n\t\t\t\t\t\t\t\t{movie.title}\n\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ScrollableHorizontalList>\n\t\t\t</div>\n\t\t</LoadingHandler>\n\t);\n};\n\nexport default MovieInfoRecommendations;\n","import MovieInfoBody from './MovieInfoBody';\n\nexport default MovieInfoBody;\n","import React, { useContext } from 'react';\n\nimport { MovieCreditsStore } from '../../../contexts/movieCreditsContext';\nimport { MovieRecommendationsStore } from '../../../contexts/movieRecommendationsContext';\nimport movieInfoContext from '../../../contexts/movieInfoContext';\nimport Image from '../../Image';\nimport MovieInfoCastCrew from '../MovieInfoCastCrew';\nimport MovieInfoRecommendations from '../MovieInfoRecommendations';\n\nconst MovieInfoBody = () => {\n\tconst { movieInfo } = useContext(movieInfoContext);\n\treturn (\n\t\t<>\n\t\t\t<div className=\"p-3\">\n\t\t\t\t<div className=\"animate__animated animate__fadeInUp mb-3 row\">\n\t\t\t\t\t<div className=\"col-6 col-lg-4\">\n\t\t\t\t\t\t<Image src={movieInfo.poster_url} title={movieInfo.title} type=\"poster\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-12 col-sm-6 col-lg-8 text-end\">\n\t\t\t\t\t\t<div className=\"lead text-start\">{movieInfo.overview}</div>\n\t\t\t\t\t\t<div className=\"mb-3\">\n\t\t\t\t\t\t\t<span className=\"badge bg-secondary ms-2\">{movieInfo.original_language}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"mb-3\">\n\t\t\t\t\t\t\t<a className=\"btn btn-danger btn-sm\" href={movieInfo.LetterboxdURI} target=\"_blank\" rel=\"noopener noreferrer\">View movie at Letterboxd</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"mb-3\">\n\t\t\t\t\t\t\t<a className=\"btn btn-danger btn-sm\" href={movieInfo.tmdbURI} target=\"_blank\" rel=\"noopener noreferrer\">View movie at TMDB</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<MovieCreditsStore movieId={movieInfo.id}>\n\t\t\t\t\t<MovieInfoCastCrew />\n\t\t\t\t</MovieCreditsStore>\n\t\t\t</div>\n\t\t\t<Image src={movieInfo.backdrop_url} title={movieInfo.title} type=\"backdrop\" />\n\t\t\t<MovieRecommendationsStore movieId={movieInfo.id}>\n\t\t\t\t<MovieInfoRecommendations />\n\t\t\t</MovieRecommendationsStore>\n\t\t</>\n\t);\n};\n\nexport default MovieInfoBody;\n","import MovieInfoHeader from './MovieInfoHeader';\n\nexport default MovieInfoHeader;\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { useContext } from 'react';\n\nimport movieInfoContext from '../../../contexts/movieInfoContext';\n\nconst MovieInfoHeader = () => {\n\tconst { movieInfo } = useContext(movieInfoContext);\n\treturn (\n\t\t<div className=\"bg-secondary p-3\">\n\t\t\t<h1 className=\"h3\">\n\t\t\t\t{movieInfo.title}\n\t\t\t\t<span className=\"font-italic ms-2 small\">{`(${movieInfo.release_year}${movieInfo.title !== movieInfo.original_title ? `, \"${movieInfo.original_title}\"` : ''})`}</span>\n\t\t\t</h1>\n\t\t\t<div className=\"small\">\n\t\t\t\t{movieInfo.Rating} of 5\n\t\t\t\t<FontAwesomeIcon className=\"mx-1 text-warning\" icon=\"star\" />\n\t\t\t\t<span className=\"small\">by me</span>\n\t\t\t</div>\n\t\t\t<div className=\"small\">\n\t\t\t\t{movieInfo.vote_average} of 10\n\t\t\t\t<FontAwesomeIcon className=\"mx-1 text-warning\" icon=\"star\" />\n\t\t\t\t<span className=\"small\">{`by ${movieInfo.vote_count} TMDb users`}</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default MovieInfoHeader;\n","import MovieInfo from './MovieInfo';\n\nexport default MovieInfo;\n","import React, { useContext } from 'react';\n\nimport movieInfoContext from '../../contexts/movieInfoContext';\nimport LoadingHandler from '../LoadingHandler';\nimport MovieInfoBody from './MovieInfoBody';\nimport MovieInfoHeader from './MovieInfoHeader';\n\nconst MovieInfo = () => {\n\tconst { movieInfo, movieInfoStatus } = useContext(movieInfoContext);\n\treturn (\n\t\t<LoadingHandler dataStatus={movieInfoStatus} hasData={(movieInfo.id !== '')}>\n\t\t\t<div className=\"border border-secondary mb-3 rounded\">\n\t\t\t\t<MovieInfoHeader />\n\t\t\t\t<MovieInfoBody />\n\t\t\t</div>\n\t\t</LoadingHandler>\n\t);\n};\n\nexport default MovieInfo;\n","import React, { useContext } from 'react';\n\nimport { MovieInfoStore } from '../contexts/movieInfoContext';\nimport movieDiaryContext from '../contexts/movieDiaryContext';\nimport movieRatingsContext from '../contexts/movieRatingsContext';\nimport MovieInfo from '../components/MovieInfo';\n\nconst PageMovieInfo = ({ match }) => {\n\tconst { movieDiary } = useContext(movieDiaryContext);\n\tconst { movieRatings } = useContext(movieRatingsContext);\n\tconst { movieId } = match.params;\n\tconst movie = [...movieDiary, ...movieRatings].find((obj) => (obj.Id === movieId));\n\treturn (\n\t\t<MovieInfoStore movie={movie}>\n\t\t\t<MovieInfo />\n\t\t</MovieInfoStore>\n\t);\n};\n\nexport default PageMovieInfo;\n","import MovieButton from './MovieButton';\n\nexport default MovieButton;\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport PropTypes from 'prop-types';\nimport React, { memo } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst MovieButton = memo(function MovieButton({ movie, type }) {\n\tlet dateText;\n\tif (type === 'Diary' && movie.WatchedDateFormatted) {\n\t\tdateText = `watched in ${movie.WatchedDateFormatted}`;\n\t} else if (type === 'Ratings' && movie.DateFormatted) {\n\t\tdateText = `rated in ${movie.DateFormatted}`;\n\t}\n\treturn (\n\t\t<Link className=\"btn btn-secondary d-block\" to={`/movie/${movie.Id}`}>\n\t\t\t<div className=\"text-start text-truncate\">\n\t\t\t\t{movie.Name}\n\t\t\t\t<span className=\"ms-1 small\">({movie.Year})</span>\n\t\t\t</div>\n\t\t\t<div className=\"align-items-end row small\">\n\t\t\t\t<div className=\"col text-start text-warning\">\n\t\t\t\t\t{Array.from(Array(movie.Rating)).map((item, i) => (\n\t\t\t\t\t\t<FontAwesomeIcon key={i} className=\"me-1\" icon=\"star\" />\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col small text-end\">\n\t\t\t\t\t{dateText}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Link>\n\t);\n});\n\nMovieButton.propTypes = {\n\tmovie: PropTypes.shape({\n\t\tId: PropTypes.string.isRequired,\n\t\tDate: PropTypes.string.isRequired,\n\t\tDateFormatted: PropTypes.string.isRequired,\n\t\tLetterboxdURI: PropTypes.string.isRequired,\n\t\tName: PropTypes.string.isRequired,\n\t\tRating: PropTypes.number.isRequired,\n\t\tWatchedDate: PropTypes.string,\n\t\tWatchedDateFormatted: PropTypes.string,\n\t\tYear: PropTypes.number.isRequired\n\t}),\n\ttype: PropTypes.string.isRequired\n};\n\nexport default MovieButton;\n","import PropTypes from 'prop-types';\nimport React, { memo, useContext, useEffect, useReducer } from 'react';\n\nimport movieDiaryContext from '../../contexts/movieDiaryContext';\nimport movieRatingsContext from '../../contexts/movieRatingsContext';\nimport LoadingHandler from '../LoadingHandler';\nimport MovieButton from '../MovieButton';\n\nconst initialState = {\n\tdispatchMovie: null,\n\tdispatchMovieType: '',\n\tmoviesFiltered: [],\n\tmoviesPaginated: [],\n\tmoviesStatus: null,\n};\n\nfunction reducer(state, action) {\n\tswitch (action.type) {\n\t\tcase 'setAll':\n\t\t\treturn { ...state, ...action.payload };\n\t\tdefault:\n\t\t\tthrow new Error();\n\t}\n}\n\nconst MovieList = memo(function MovieList ({ type }) {\n\tconst [state, dispatchMovieList] = useReducer(reducer, initialState);\n\tconst {\n\t\tdispatchMovieDiary,\n\t\tmovieDiaryFiltered,\n\t\tmovieDiaryPage,\n\t\tmovieDiaryPaginated,\n\t\tmovieDiarySearchString,\n\t\tmovieDiaryStatus,\n\t} = useContext(movieDiaryContext);\n\tconst {\n\t\tdispatchMovieRatings,\n\t\tmovieRatingsFiltered,\n\t\tmovieRatingsPage,\n\t\tmovieRatingsPaginated,\n\t\tmovieRatingsSearchString,\n\t\tmovieRatingsStatus,\n\t} = useContext(movieRatingsContext);\n\n\tuseEffect(() => {\n\t\tlet payload;\n\t\tif (type === 'Diary') {\n\t\t\tpayload = {\n\t\t\t\tdispatchMovie: dispatchMovieDiary,\n\t\t\t\tdispatchMovieType: 'setMovieDiaryPage',\n\t\t\t\tmoviesFiltered: movieDiaryFiltered,\n\t\t\t\tmoviesPaginated: movieDiaryPaginated,\n\t\t\t\tmoviesStatus: movieDiaryStatus,\n\t\t\t};\n\t\t} else if (type === 'Ratings') {\n\t\t\tpayload = {\n\t\t\t\tdispatchMovie: dispatchMovieRatings,\n\t\t\t\tdispatchMovieType: 'setMovieRatingsPage',\n\t\t\t\tmoviesFiltered: movieRatingsFiltered,\n\t\t\t\tmoviesPaginated: movieRatingsPaginated,\n\t\t\t\tmoviesStatus: movieRatingsStatus,\n\t\t\t};\n\t\t}\n\t\tdispatchMovieList({ type: 'setAll', payload });\n\t}, [\n\t\tdispatchMovieDiary,\n\t\tdispatchMovieRatings,\n\t\tmovieDiaryFiltered,\n\t\tmovieDiaryPage,\n\t\tmovieDiaryPaginated,\n\t\tmovieDiarySearchString,\n\t\tmovieDiaryStatus,\n\t\tmovieRatingsFiltered,\n\t\tmovieRatingsPage,\n\t\tmovieRatingsPaginated,\n\t\tmovieRatingsSearchString,\n\t\tmovieRatingsStatus,\n\t\ttype,\n\t]);\n\n\treturn (\n\t\t<LoadingHandler dataStatus={state.moviesStatus} hasData={(!!state.moviesFiltered.length)} messageNoData=\"noMovies\">\n\t\t\t<>\n\t\t\t\t<ul className=\"list-unstyled\">\n\t\t\t\t\t{state.moviesPaginated.map(movie => (\n\t\t\t\t\t\t<li className=\"mb-3\" key={movie.Id}>\n\t\t\t\t\t\t\t<MovieButton movie={movie} type={type} />\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t\t{state.moviesPaginated.length < state.moviesFiltered.length && <div className=\"mb-3 text-center\">\n\t\t\t\t\t<button className=\"btn btn-danger\" type=\"button\" onClick={() => state.dispatchMovie({ type: state.dispatchMovieType })}>Show more</button>\n\t\t\t\t</div>}\n\t\t\t</>\n\t\t</LoadingHandler>\n\t);\n});\n\nMovieList.propTypes = {\n\ttype: PropTypes.string.isRequired\n};\n\nexport default MovieList;\n","import MovieList from './MovieList';\n\nexport default MovieList;\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { useContext, useEffect, useReducer } from 'react';\n\nimport movieDiaryContext from '../../contexts/movieDiaryContext';\nimport movieRatingsContext from '../../contexts/movieRatingsContext';\n\nconst initialState = {\n\tdispatchMovie: null,\n\tdispatchMovieType: '',\n\tmovieSearchString: '',\n\tmoviesFiltered: [],\n};\n\nfunction reducer(state, action) {\n\tswitch (action.type) {\n\t\tcase 'setAll':\n\t\t\treturn { ...state, ...action.payload };\n\t\tdefault:\n\t\t\tthrow new Error();\n\t}\n}\n\nconst MovieNameSearch = ({ type }) => {\n\tconst [state, dispatchMovieNameSearch] = useReducer(reducer, initialState);\n\tconst {\n\t\tdispatchMovieDiary,\n\t\tmovieDiaryFiltered,\n\t\tmovieDiarySearchString,\n\t\tmovieDiaryStatus,\n\t} = useContext(movieDiaryContext);\n\tconst {\n\t\tdispatchMovieRatings,\n\t\tmovieRatingsFiltered,\n\t\tmovieRatingsSearchString,\n\t\tmovieRatingsStatus,\n\t} = useContext(movieRatingsContext);\n\n\tuseEffect(() => {\n\t\tlet payload;\n\t\tif (type === 'Diary') {\n\t\t\tpayload = {\n\t\t\t\tdispatchMovie: dispatchMovieDiary,\n\t\t\t\tdispatchMovieType: 'setMovieDiarySearchString',\n\t\t\t\tmovieSearchString: movieDiarySearchString,\n\t\t\t\tmoviesFiltered: movieDiaryFiltered,\n\t\t\t};\n\t\t} else if (type === 'Ratings') {\n\t\t\tpayload = {\n\t\t\t\tdispatchMovie: dispatchMovieRatings,\n\t\t\t\tdispatchMovieType: 'setMovieRatingsSearchString',\n\t\t\t\tmovieSearchString: movieRatingsSearchString,\n\t\t\t\tmoviesFiltered: movieRatingsFiltered,\n\t\t\t};\n\t\t};\n\t\tdispatchMovieNameSearch({ type: 'setAll', payload });\n\t}, [\n\t\tdispatchMovieDiary,\n\t\tdispatchMovieRatings,\n\t\tmovieDiaryFiltered,\n\t\tmovieDiarySearchString,\n\t\tmovieDiaryStatus,\n\t\tmovieRatingsFiltered,\n\t\tmovieRatingsSearchString,\n\t\tmovieRatingsStatus,\n\t\ttype,\n\t]);\n\n\treturn (\n\t\t<div className=\"mb-3\">\n\t\t\t<div className=\"input-group mb-1\">\n\t\t\t\t<input id=\"search-movie\" className=\"form-control\" placeholder=\"Search...\" type=\"text\" value={state.movieSearchString} onChange={event => state.dispatchMovie({ type: state.dispatchMovieType, payload: event.target.value })} />\n\t\t\t\t<button className=\"btn btn-secondary\" type=\"button\" onClick={() => state.dispatchMovie({ type: state.dispatchMovieType, payload: '' })}>\n\t\t\t\t\t<FontAwesomeIcon icon=\"times\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<p className=\"small text-end\">{state.moviesFiltered.length} movies</p>\n\t\t</div>\n\t);\n};\n\nexport default MovieNameSearch;\n","import MovieNameSearch from './MovieNameSearch';\n\nexport default MovieNameSearch;\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nimport MovieList from '../components/MovieList';\nimport MovieNameSearch from '../components/MovieNameSearch';\n\nconst PageMovies = ({ type }) => (\n\t<>\n\t\t<h1 className=\"h4\">{type}</h1>\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-12 col-sm-4\">\n\t\t\t\t<MovieNameSearch type={type} />\n\t\t\t</div>\n\t\t\t<div className=\"col-12 col-sm-8\">\n\t\t\t\t<MovieList type={type} />\n\t\t\t</div>\n\t\t</div>\n\t</>\n);\n\nPageMovies.propTypes = {\n\ttype: PropTypes.string.isRequired\n};\n\nexport default PageMovies;\n","import React from 'react';\n\nimport Message from '../components/Message';\n\nconst PageNotFound = () => (\n\t<Message type=\"pageNotFound\" />\n)\n\nexport default PageNotFound;\n","import ProgressBar from './ProgressBar';\n\nexport default ProgressBar;\n","import PropTypes from 'prop-types';\nimport React, { memo } from 'react';\n\nconst ProgressBar = memo(function ProgressBar({ width }) {\n\treturn (\n\t\t<div className=\"bg-secondary overflow-hidden rounded\">\n\t\t\t<div className=\"animate__animated animate__slideInLeft bg-danger pb-2 rounded\" style={{width: `${width}%`}}></div>\n\t\t</div>\n\t);\n});\n\nProgressBar.propTypes = {\n\twidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired\n};\n\nexport default ProgressBar;\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport PropTypes from 'prop-types';\nimport React, { memo } from 'react';\n\nimport LoadingHandler from '../LoadingHandler';\nimport ProgressBar from '../ProgressBar';\n\nconst title = {\n\tmoviesPerDecadeReleased: 'Per decade released',\n\tmoviesPerRatingGiven: 'Per rating given',\n\tmoviesPerYearWatched: 'Per year watched',\n}\n\nconst MovieStats = memo(function MovieStats({ movies, moviesStatus, type }) {\n\treturn (\n\t\t<div className=\"border border-secondary p-3 rounded\">\n\t\t\t<h1 className=\"h5\">{title[type]}</h1>\n\t\t\t<LoadingHandler dataStatus={moviesStatus} hasData={!!movies.groups} messageNoData=\"noStats\">\n\t\t\t\t<ul className=\"list-unstyled\">\n\t\t\t\t\t{Object.entries(movies.groups).reverse().map(([key, value]) => {\n\t\t\t\t\t\tconst text = () => {\n\t\t\t\t\t\t\tif (type === 'moviesPerRatingGiven') {\n\t\t\t\t\t\t\t\tlet stars = [];\n\t\t\t\t\t\t\t\tfor (let i = 0; i < key; i++) {\n\t\t\t\t\t\t\t\t\tstars.push(<FontAwesomeIcon key={i} className=\"me-1 text-warning\" icon=\"star\" />);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn stars;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn key;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tconst width = value * 100 / movies.max;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li className=\"mb-2\" key={key}>\n\t\t\t\t\t\t\t\t<div className=\"g-0 row\">\n\t\t\t\t\t\t\t\t\t<div className=\"col\">{text()}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"col-auto fw-bold\">{value}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<ProgressBar width={width} />\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t</LoadingHandler>\n\t\t</div>\n\t);\n});\n\nMovieStats.propTypes = {\n\tmovies: PropTypes.shape({\n\t\tgroups: PropTypes.object.isRequired,\n\t\tmax: PropTypes.number.isRequired\n\t}),\n\tmoviesStatus: PropTypes.string.isRequired,\n\ttype: PropTypes.string.isRequired\n};\n\nexport default MovieStats;\n","import MovieStats from './MovieStats';\n\nexport default MovieStats;\n","import React, { useContext } from 'react';\n\nimport MovieStats from '../components/MovieStats';\nimport movieDiaryContext from '../contexts/movieDiaryContext';\nimport movieRatingsContext from '../contexts/movieRatingsContext';\n\nconst PageStats = () => {\n\tconst { moviesPerYearWatched, movieDiaryStatus } = useContext(movieDiaryContext);\n\tconst { moviesPerDecadeReleased, moviesPerRatingGiven, movieRatingsStatus } = useContext(movieRatingsContext);\n\treturn (\n\t\t<>\n\t\t\t<h1 className=\"h4\">Stats</h1>\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-12 col-sm-6 col-md-4 mb-3\">\n\t\t\t\t\t<MovieStats\n\t\t\t\t\t\tmovies={moviesPerYearWatched}\n\t\t\t\t\t\tmoviesStatus={movieDiaryStatus}\n\t\t\t\t\t\ttype=\"moviesPerYearWatched\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-12 col-sm-6 col-md-4 mb-3\">\n\t\t\t\t\t<MovieStats\n\t\t\t\t\t\tmovies={moviesPerRatingGiven}\n\t\t\t\t\t\tmoviesStatus={movieRatingsStatus}\n\t\t\t\t\t\ttype=\"moviesPerRatingGiven\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-12 col-sm-6 col-md-4 mb-3\">\n\t\t\t\t\t<MovieStats\n\t\t\t\t\t\tmovies={moviesPerDecadeReleased}\n\t\t\t\t\t\tmoviesStatus={movieRatingsStatus}\n\t\t\t\t\t\ttype=\"moviesPerDecadeReleased\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default PageStats;\n","import SiteInfo from './SiteInfo';\n\nexport default SiteInfo;\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { memo } from 'react';\n\nimport Anchor from '../Anchor';\nimport tmdbApi from '../../helpers/tmdbApi';\n\nconst SiteInfo = memo(function SiteInfo() {\n\treturn (\n\t\t<div className=\"border-secondary border-top pt-3 small text-center\">\n\t\t\t<div className=\"mb-3\">\n\t\t\t\t<img alt=\"Letterboxd\" src=\"https://a.ltrbxd.com/logos/letterboxd-logo-v-neg-rgb-1000px.png\" height=\"48\" />\n\t\t\t\t<br />\n\t\t\t\tMy Ratings and Diary data are exported from Letterboxd from time to time.<br />\n\t\t\t\tMy\n\t\t\t\t<Anchor href=\"https://letterboxd.com/saviomd\" margin=\"both\" target=\"_blank\">\n\t\t\t\t\tprofile\n\t\t\t\t\t<FontAwesomeIcon className=\"ms-1 small\" icon=\"external-link-alt\" />\n\t\t\t\t</Anchor>\n\t\t\t\twill have more up to date information.\n\t\t\t</div>\n\t\t\t<div className=\"mb-3\">\n\t\t\t\t<img alt=\"TMDb\" src={tmdbApi.img.attributionUrl} height=\"48\" />\n\t\t\t\t<br />\n\t\t\t\tThis product uses the TMDb API but is not endorsed or certified by TMDb.\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n\nexport default SiteInfo;\n","import React, { useState } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faCalendarAlt, faChartBar, faDizzy, faExternalLinkAlt, faFrown, faHourglassHalf, faSadTear, faStar, faTimes } from '@fortawesome/free-solid-svg-icons';\n\nimport { MovieDiaryStore } from './contexts/movieDiaryContext';\nimport { MovieRatingsStore } from './contexts/movieRatingsContext';\nimport Footer from './components/Footer';\nimport Header from './components/Header';\nimport PageMovieInfo from './pages/PageMovieInfo';\nimport PageMovies from './pages/PageMovies';\nimport PageNotFound from './pages/PageNotFound';\nimport PageStats from './pages/PageStats';\nimport SiteInfo from './components/SiteInfo';\n\nimport '../node_modules/animate.css/animate.min.css';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\n\nlibrary.add(faCalendarAlt, faChartBar, faDizzy, faExternalLinkAlt, faFrown, faHourglassHalf, faSadTear, faStar, faTimes);\n\nconst initialState = {\n\tnavLinks: [\n\t\t{\n\t\t\ticon: 'star',\n\t\t\tname: 'Ratings',\n\t\t\tpath: '/',\n\t\t},\n\t\t{\n\t\t\ticon: 'calendar-alt',\n\t\t\tname: 'Diary',\n\t\t\tpath: '/diary',\n\t\t},\n\t\t{\n\t\t\ticon: 'chart-bar',\n\t\t\tname: 'Stats',\n\t\t\tpath: '/stats',\n\t\t},\n\t],\n};\n\nconst App = () => {\n\tconst [state] = useState(initialState);\n\n\treturn (\n\t\t<MovieDiaryStore>\n\t\t\t<MovieRatingsStore>\n\t\t\t\t<div className=\"container-fluid\">\n\t\t\t\t\t<div className=\"justify-content-center row\">\n\t\t\t\t\t\t<div className=\"col-12 col-md-10\">\n\t\t\t\t\t\t\t<Header navLinks={state.navLinks} />\n\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t<Route path=\"/\" exact render={() => <PageMovies type='Ratings' />} />\n\t\t\t\t\t\t\t\t<Route path=\"/diary\" render={() => <PageMovies type='Diary' />} />\n\t\t\t\t\t\t\t\t<Route path=\"/movie/:movieId\" render={({ match }) => <PageMovieInfo match={match} />} />\n\t\t\t\t\t\t\t\t<Route path=\"/stats\" component={PageStats} />\n\t\t\t\t\t\t\t\t<Route component={PageNotFound} />\n\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t<SiteInfo />\n\t\t\t\t\t\t\t<Footer />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</MovieRatingsStore>\n\t\t</MovieDiaryStore>\n\t);\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst router = (\n\t<Router>\n\t\t<App />\n\t</Router>\n)\n\nReactDOM.render(router, document.getElementById('root'));\nserviceWorker.register();\n"],"sourceRoot":""}