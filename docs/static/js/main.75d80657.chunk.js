(this.webpackJsonpmovieratings=this.webpackJsonpmovieratings||[]).push([[0],{16:function(e,t,a){"use strict";a(0);var n=a(1),r=function(e){var t=e.children,a=e.href,r=e.margin,i=e.target,c={both:"m-1",left:"ms-1",none:"",right:"me-1"}[r];return Object(n.jsx)("a",{className:"".concat(c," text-danger text-decoration-none"),href:a,target:i,rel:"_blank"===i?"noopener noreferrer":null,children:t})};r.defaultProps={margin:null,target:null};var i=r;t.a=i},17:function(e,t,a){"use strict";t.a=function(e,t){return e.filter((function(e){return e.Name.toLowerCase().includes(t.toLowerCase())}))}},18:function(e,t,a){"use strict";var n=a(3),r=a(23);t.a=function(e){return e.reverse(),e.map((function(e,t){return Object(n.a)(Object(n.a)({},e),{},{Id:e.LetterboxdURI.length?e.LetterboxdURI.split("boxd.it/")[1]:t.toString(),Name:e.Name.toString(),DateFormatted:Object(r.a)({date:e.Date})},e.WatchedDate&&{WatchedDateFormatted:Object(r.a)({date:e.WatchedDate})})}))}},19:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){return fetch("https://saviomd.com/movieratings/data/diary.json").then((function(e){if(!e.ok)throw Error(e.status);return e.json()}))},r=function(){return fetch("https://saviomd.com/movieratings/data/ratings.json").then((function(e){if(!e.ok)throw Error(e.status);return e.json()}))}},23:function(e,t,a){"use strict";t.a=function(e){var t=e.date;return new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}},24:function(e,t,a){"use strict";var n=a(10),r=a(0),i=a(1),c=Object(r.memo)((function(e){var t=e.type,a={error:{icon:"sad-tear",text:"An error has ocurred"},loading:{icon:"hourglass-half",text:"Loading..."},noData:{icon:"frown",text:"No data to show"},noMovies:{icon:"frown",text:"No movies to show"},noStats:{icon:"frown",text:"No stats to show"},pageNotFound:{icon:"dizzy",text:"Page not found"}},r="animate__".concat("loading"===t?"heartBeat":"headShake");return Object(i.jsxs)("div",{className:"lead p-3 text-center",children:[Object(i.jsx)("div",{className:"animate__animated ".concat(r," h3 mb-3"),children:Object(i.jsx)("span",{className:"bg-secondary p-2 rounded",children:Object(i.jsx)(n.a,{icon:a[t].icon})})}),a[t].text]})}));t.a=c},27:function(e,t,a){"use strict";a.d(t,"b",(function(){return b})),a.d(t,"a",(function(){return j}));var n=a(14),r=a(3),i=a(0),c=a.n(i),o=a(17),s=a(18),u=a(19),d=a(1),b=c.a.createContext(),l={movieDiary:[],movieDiaryPage:1,movieDiarySearchString:"",movieDiaryStatus:""};function m(e,t){switch(t.type){case"setMovieDiary":return Object(r.a)(Object(r.a)({},e),{},{movieDiary:t.payload,movieDiaryStatus:"loaded"});case"setMovieDiaryPage":return Object(r.a)(Object(r.a)({},e),{},{movieDiaryPage:e.movieDiaryPage+1});case"setMovieDiarySearchString":return Object(r.a)(Object(r.a)({},e),{},{movieDiarySearchString:t.payload.toLowerCase()});case"setMovieDiaryStatus":return Object(r.a)(Object(r.a)({},e),{},{movieDiaryStatus:t.payload});default:throw new Error}}var j=function(e){var t=e.children,a=Object(i.useReducer)(m,l),c=Object(n.a)(a,2),j=c[0],h=c[1],v=Object(i.useMemo)((function(){return Object(o.a)(j.movieDiary,j.movieDiarySearchString)}),[j.movieDiary,j.movieDiarySearchString]),g=Object(i.useMemo)((function(){var e=100*j.movieDiaryPage;return v.slice(0,e)}),[v,j.movieDiaryPage]),f=Object(i.useMemo)((function(){var e=j.movieDiary.reduce((function(e,t){var a=t.WatchedDate.split("-")[0];return e[a]=e[a]?e[a]+=1:e[a]=1,e}),{}),t=0;return Object.values(e).forEach((function(e){t=e>t?e:t})),{groups:e,max:t}}),[j.movieDiary]);Object(i.useEffect)((function(){h({type:"setMovieDiaryStatus",payload:"loading"}),Object(u.a)().then((function(e){var t=Object(s.a)(e);return h({type:"setMovieDiary",payload:t}),t})).catch((function(){h({type:"setMovieDiaryStatus",payload:"error"})}))}),[]);var O=Object(i.useMemo)((function(){return Object(r.a)(Object(r.a)({},j),{},{dispatchMovieDiary:h,movieDiaryFiltered:v,movieDiaryPaginated:g,moviesPerYearWatched:f})}),[v,g,f,j]);return Object(d.jsx)(b.Provider,{value:O,children:t})}},28:function(e,t,a){"use strict";a.d(t,"b",(function(){return b})),a.d(t,"a",(function(){return j}));var n=a(14),r=a(3),i=a(0),c=a.n(i),o=a(17),s=a(18),u=a(19),d=a(1),b=c.a.createContext(),l={movieRatings:[],movieRatingsPage:1,movieRatingsSearchString:"",movieRatingsStatus:""};function m(e,t){switch(t.type){case"setMovieRatings":return Object(r.a)(Object(r.a)({},e),{},{movieRatings:t.payload,movieRatingsStatus:"loaded"});case"setMovieRatingsPage":return Object(r.a)(Object(r.a)({},e),{},{movieRatingsPage:e.movieRatingsPage+1});case"setMovieRatingsSearchString":return Object(r.a)(Object(r.a)({},e),{},{movieRatingsSearchString:t.payload.toLowerCase()});case"setMovieRatingsStatus":return Object(r.a)(Object(r.a)({},e),{},{movieRatingsStatus:t.payload});default:throw new Error}}var j=function(e){var t=e.children,a=Object(i.useReducer)(m,l),c=Object(n.a)(a,2),j=c[0],h=c[1],v=Object(i.useMemo)((function(){return Object(o.a)(j.movieRatings,j.movieRatingsSearchString)}),[j.movieRatings,j.movieRatingsSearchString]),g=Object(i.useMemo)((function(){var e=100*j.movieRatingsPage;return v.slice(0,e)}),[v,j.movieRatingsPage]),f=Object(i.useMemo)((function(){var e=j.movieRatings.reduce((function(e,t){var a="".concat(t.Year.toString().substr(0,3),"0");return e[a]=e[a]?e[a]+=1:e[a]=1,e}),{}),t=0;return Object.values(e).forEach((function(e){t=e>t?e:t})),{groups:e,max:t}}),[j.movieRatings]),O=Object(i.useMemo)((function(){var e=j.movieRatings.reduce((function(e,t){var a=t.Rating;return e[a]=e[a]?e[a]+=1:e[a]=1,e}),{}),t=0;return Object.values(e).forEach((function(e){t=e>t?e:t})),{groups:e,max:t}}),[j.movieRatings]);Object(i.useEffect)((function(){h({type:"setMovieRatingsStatus",payload:"loading"}),Object(u.b)().then((function(e){var t=Object(s.a)(e);return h({type:"setMovieRatings",payload:t}),t})).catch((function(){h({type:"setMovieRatingsStatus",payload:"error"})}))}),[]);var p=Object(i.useMemo)((function(){return Object(r.a)(Object(r.a)({},j),{},{dispatchMovieRatings:h,movieRatingsFiltered:v,movieRatingsPaginated:g,moviesPerDecadeReleased:f,moviesPerRatingGiven:O})}),[v,g,f,O,j]);return Object(d.jsx)(b.Provider,{value:p,children:t})}},29:function(e,t,a){"use strict";var n=function(e){var t=e.path,a=e.type;return t?"https://image.tmdb.org/t/p/".concat({backdrop:"w1280",poster:"w780"}[a]+t):null},r={img:{attribution:function(){return"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg"},backdrop:function(e){var t=e.path;return n({path:t,type:"backdrop"})},poster:function(e){var t=e.path;return n({path:t,type:"poster"})}},key:"6f875d4fba2e999f480afa6275a08f75",methods:{movieDetails:function(e){var t=e.movieId;return"movie/".concat(t)},searchMovies:function(){return"search/movie"}},url:"https://api.themoviedb.org/3/"};t.a=r},30:function(e,t,a){"use strict";var n=a(2),r=a.n(n),i=a(0),c=a(24),o=a(1),s=["","error","loading","loaded"],u=Object(i.memo)((function(e){var t=e.children,a=e.dataStatus,n=e.hasData,r=e.messageNoData;return Object(o.jsxs)(o.Fragment,{children:["loaded"===a&&n&&Object(o.jsx)(o.Fragment,{children:t}),"loaded"===a&&!n&&Object(o.jsx)(c.a,{type:r}),("loading"===a||"error"===a)&&Object(o.jsx)(c.a,{type:a})]})}));u.propTypes={children:r.a.node,dataStatus:r.a.oneOf(s),hasData:r.a.bool,messageNoData:r.a.string},u.defaultProps={children:null,dataStatus:s[0],hasData:!0,messageNoData:"noData"};var d=u;t.a=d},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(33),c=a.n(i),o=a(27),s=a(28),u=a(12),d=a(9),b=a(11),l=(a(43),a(44),a(1));u.b.add(d.a,d.b,d.c,d.d,d.e,d.f,d.g,d.h,d.i);var m=function(e){var t=e.children;return Object(l.jsx)(b.a,{children:Object(l.jsx)("div",{className:"bg-dark text-white",children:t})})},j=a(10),h=a(16),v=Object(n.memo)((function(){var e=(new Date).getFullYear();return Object(l.jsxs)("footer",{className:"border-secondary border-top mb-3 pt-3 small text-center",children:["\xa9 2017-",e,Object(l.jsxs)(h.a,{href:"http://saviomd.com/",margin:"left",target:"_blank",children:[Object(l.jsx)("img",{alt:"saviomd.com",className:"me-1",src:"https://saviomd.com/img/favicon.png",height:"15",width:"15"}),"S\xe1vio Mendes",Object(l.jsx)(j.a,{className:"ms-1 small",icon:"external-link-alt"})]})]})})),g=function(e){var t=e.link;return Object(l.jsxs)(b.c,{to:t.path,exact:!0,activeClassName:"active",className:"btn btn-danger btn-sm",children:[Object(l.jsx)(j.a,{icon:t.icon}),Object(l.jsx)("span",{className:"d-none d-sm-inline-block ms-1",children:t.name})]})},f=[{icon:"star",name:"Ratings",path:"/"},{icon:"calendar-alt",name:"Diary",path:"/diary"},{icon:"chart-bar",name:"Stats",path:"/stats"}],O=function(){return Object(l.jsx)("nav",{className:"btn-group",children:f.map((function(e){return Object(l.jsx)(g,{link:e},e.path)}))})},p=function(){return Object(l.jsx)("header",{className:"border-bottom border-secondary mb-3",children:Object(l.jsxs)("div",{className:"align-items-center my-2 row",children:[Object(l.jsx)("h1",{className:"col h5 mb-0",children:Object(l.jsx)(b.c,{to:"/",exact:!0,className:"text-decoration-none text-white",children:"Movie Ratings"})}),Object(l.jsx)("div",{className:"col-auto",children:Object(l.jsx)(O,{})})]})})},x=a(29),y=Object(n.memo)((function(){return Object(l.jsxs)("div",{className:"border-secondary border-top pt-3 small text-center",children:[Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("img",{alt:"Letterboxd",src:"https://a.ltrbxd.com/logos/letterboxd-logo-v-neg-rgb-1000px.png",height:"48"}),Object(l.jsx)("br",{}),"My Ratings and Diary data are exported from Letterboxd from time to time.",Object(l.jsx)("br",{}),"My",Object(l.jsxs)(h.a,{href:"https://letterboxd.com/saviomd",margin:"both",target:"_blank",children:["profile",Object(l.jsx)(j.a,{className:"ms-1 small",icon:"external-link-alt"})]}),"will have more up to date information."]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("img",{alt:"TMDb",src:x.a.img.attribution(),height:"48"}),Object(l.jsx)("br",{}),"This product uses the TMDb API but is not endorsed or certified by TMDb."]})]})})),D=a(4),S=a(30),R=Object(n.lazy)((function(){return a.e(3).then(a.bind(null,52))})),M=Object(n.lazy)((function(){return a.e(4).then(a.bind(null,53))})),N=Object(n.lazy)((function(){return a.e(5).then(a.bind(null,50))})),w=Object(n.lazy)((function(){return a.e(6).then(a.bind(null,54))})),P=[{exact:!0,path:"/",render:function(){return Object(l.jsx)(M,{type:"Ratings"})}},{exact:!0,path:"/diary",render:function(){return Object(l.jsx)(M,{type:"Diary"})}},{exact:!0,path:"/movie/:movieId",render:function(e){var t=e.match;return Object(l.jsx)(R,{match:t})}},{exact:!0,path:"/stats",render:function(){return Object(l.jsx)(w,{})}}],k=function(){return Object(l.jsx)(n.Suspense,{fallback:Object(l.jsx)(S.a,{dataStatus:"loading"}),children:Object(l.jsxs)(D.c,{children:[P.map((function(e){var t=e.exact,a=e.path,n=e.render;return Object(l.jsx)(D.a,{exact:t,path:a,render:n},a)})),Object(l.jsx)(D.a,{component:N})]})})},F=function(){return Object(l.jsx)(m,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(s.a,{children:Object(l.jsx)("div",{className:"container-fluid",children:Object(l.jsx)("div",{className:"justify-content-center row",children:Object(l.jsxs)("div",{className:"col-12 col-md-10",children:[Object(l.jsx)(p,{}),Object(l.jsx)(k,{}),Object(l.jsx)(y,{}),Object(l.jsx)(v,{})]})})})})})})},L=function(e){e&&e instanceof Function&&a.e(7).then(a.bind(null,51)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};c.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(F,{})}),document.getElementById("root")),L()}},[[49,1,2]]]);
//# sourceMappingURL=main.75d80657.chunk.js.map